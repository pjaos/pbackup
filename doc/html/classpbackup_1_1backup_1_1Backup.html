<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>pbackup: Backup Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">pbackup
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespacepbackup.html">pbackup</a></li><li class="navelem"><a class="el" href="namespacepbackup_1_1backup.html">backup</a></li><li class="navelem"><a class="el" href="classpbackup_1_1backup_1_1Backup.html">Backup</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-static-attribs">Static Public Attributes</a> &#124;
<a href="#pro-methods">Protected Member Functions</a> &#124;
<a href="#pro-attribs">Protected Attributes</a> &#124;
<a href="classpbackup_1_1backup_1_1Backup-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">Backup Class Reference</div></div>
</div><!--header-->
<div class="contents">
<div class="dynheader">
Inheritance diagram for Backup:</div>
<div class="dyncontent">
<div class="center"><img src="classpbackup_1_1backup_1_1Backup__inherit__graph.png" border="0" usemap="#aBackup_inherit__map" alt="Inheritance graph"/></div>
<center><span class="legend">[<a href="graph_legend.html">legend</a>]</span></center></div>
<div class="dynheader">
Collaboration diagram for Backup:</div>
<div class="dyncontent">
<div class="center"><img src="classpbackup_1_1backup_1_1Backup__coll__graph.png" border="0" usemap="#aBackup_coll__map" alt="Collaboration graph"/></div>
<center><span class="legend">[<a href="graph_legend.html">legend</a>]</span></center></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a4ceb54c097120638d9a5804fc12ad171" id="r_a4ceb54c097120638d9a5804fc12ad171"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpbackup_1_1backup_1_1Backup.html#a4ceb54c097120638d9a5804fc12ad171">__init__</a> (self, uo, options)</td></tr>
<tr class="separator:a4ceb54c097120638d9a5804fc12ad171"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a53c7e49e704028f4ab12031d58b807b0" id="r_a53c7e49e704028f4ab12031d58b807b0"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpbackup_1_1backup_1_1Backup.html#a53c7e49e704028f4ab12031d58b807b0">execute</a> (self)</td></tr>
<tr class="separator:a53c7e49e704028f4ab12031d58b807b0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad53c608c91acc678f15b980264090753" id="r_ad53c608c91acc678f15b980264090753"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpbackup_1_1backup_1_1Backup.html#ad53c608c91acc678f15b980264090753">renameBackup</a> (self, fullBackupID)</td></tr>
<tr class="separator:ad53c608c91acc678f15b980264090753"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a08e4a57b1b3333227db14fe42190a639" id="r_a08e4a57b1b3333227db14fe42190a639"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpbackup_1_1backup_1_1Backup.html#a08e4a57b1b3333227db14fe42190a639">showCmdLine</a> (self)</td></tr>
<tr class="separator:a08e4a57b1b3333227db14fe42190a639"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa6e3aa1601ccff4b0f17a38b814e5561" id="r_aa6e3aa1601ccff4b0f17a38b814e5561"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpbackup_1_1backup_1_1Backup.html#aa6e3aa1601ccff4b0f17a38b814e5561">testEmail</a> (self)</td></tr>
<tr class="separator:aa6e3aa1601ccff4b0f17a38b814e5561"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-static-attribs" name="pub-static-attribs"></a>
Static Public Attributes</h2></td></tr>
<tr class="memitem:aa15a6f25b0abe407a9c304849abc65e7" id="r_aa15a6f25b0abe407a9c304849abc65e7"><td class="memItemLeft" align="right" valign="top">str&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpbackup_1_1backup_1_1Backup.html#aa15a6f25b0abe407a9c304849abc65e7">BACKUP_LOG_FILE</a> = &quot;backup.log&quot;</td></tr>
<tr class="separator:aa15a6f25b0abe407a9c304849abc65e7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8b0e1861807e459a4c8b327f0245fce9" id="r_a8b0e1861807e459a4c8b327f0245fce9"><td class="memItemLeft" align="right" valign="top">str&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpbackup_1_1backup_1_1Backup.html#a8b0e1861807e459a4c8b327f0245fce9">BACKUP_SIZE_LOG_FILE</a> = &quot;backup_size.log&quot;</td></tr>
<tr class="separator:a8b0e1861807e459a4c8b327f0245fce9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af056a33b1fd8cee276fdb0b1ed87c777" id="r_af056a33b1fd8cee276fdb0b1ed87c777"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpbackup_1_1backup_1_1Backup.html#af056a33b1fd8cee276fdb0b1ed87c777">BACKUP_STATE_ERROR</a> = 3</td></tr>
<tr class="separator:af056a33b1fd8cee276fdb0b1ed87c777"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a93589a180ce52a14dad36e392d52031b" id="r_a93589a180ce52a14dad36e392d52031b"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpbackup_1_1backup_1_1Backup.html#a93589a180ce52a14dad36e392d52031b">BACKUP_STATE_START</a> = 1</td></tr>
<tr class="separator:a93589a180ce52a14dad36e392d52031b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a75b0c4039433247beffdf0016c412aad" id="r_a75b0c4039433247beffdf0016c412aad"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpbackup_1_1backup_1_1Backup.html#a75b0c4039433247beffdf0016c412aad">BACKUP_STATE_SUCCESS</a> = 2</td></tr>
<tr class="separator:a75b0c4039433247beffdf0016c412aad"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac64639a83f10701362b05b0ea7aeebc5" id="r_ac64639a83f10701362b05b0ea7aeebc5"><td class="memItemLeft" align="right" valign="top">str&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpbackup_1_1backup_1_1Backup.html#ac64639a83f10701362b05b0ea7aeebc5">FULL_BACKUP_DIR_TEXT</a> = &quot;FULL&quot;</td></tr>
<tr class="separator:ac64639a83f10701362b05b0ea7aeebc5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5ddff078ad10903950f10ed36131719e" id="r_a5ddff078ad10903950f10ed36131719e"><td class="memItemLeft" align="right" valign="top">str&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpbackup_1_1backup_1_1Backup.html#a5ddff078ad10903950f10ed36131719e">INCOMPLETE_BACKUP_SUFFIX</a> = &quot;incomplete&quot;</td></tr>
<tr class="separator:a5ddff078ad10903950f10ed36131719e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6873ca698e6e9756cded853a176a2fb4" id="r_a6873ca698e6e9756cded853a176a2fb4"><td class="memItemLeft" align="right" valign="top">str&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpbackup_1_1backup_1_1Backup.html#a6873ca698e6e9756cded853a176a2fb4">INCREMENTAL_BACKUP_DIR_TEXT</a> = &quot;INCR&quot;</td></tr>
<tr class="separator:a6873ca698e6e9756cded853a176a2fb4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab2ba0447bb3cf152016ec90c4a0ddd15" id="r_ab2ba0447bb3cf152016ec90c4a0ddd15"><td class="memItemLeft" align="right" valign="top">str&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpbackup_1_1backup_1_1Backup.html#ab2ba0447bb3cf152016ec90c4a0ddd15">NOT_STARTED_BACKUP_SUFFIX</a> = &quot;not_started&quot;</td></tr>
<tr class="separator:ab2ba0447bb3cf152016ec90c4a0ddd15"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4251f0877104c839c3b9c13736e7e7b3" id="r_a4251f0877104c839c3b9c13736e7e7b3"><td class="memItemLeft" align="right" valign="top">str&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpbackup_1_1backup_1_1Backup.html#a4251f0877104c839c3b9c13736e7e7b3">RSYNC_CMD</a> = &quot;/usr/bin/rsync&quot;</td></tr>
<tr class="separator:a4251f0877104c839c3b9c13736e7e7b3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a222d8599217620761d9b6130781047cd" id="r_a222d8599217620761d9b6130781047cd"><td class="memItemLeft" align="right" valign="top">str&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpbackup_1_1backup_1_1Backup.html#a222d8599217620761d9b6130781047cd">SSH_CMD</a> = &quot;/usr/bin/ssh&quot;</td></tr>
<tr class="separator:a222d8599217620761d9b6130781047cd"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pro-methods" name="pro-methods"></a>
Protected Member Functions</h2></td></tr>
<tr class="memitem:a0f1d05c056dedc296600316cc4284a3d" id="r_a0f1d05c056dedc296600316cc4284a3d"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpbackup_1_1backup_1_1Backup.html#a0f1d05c056dedc296600316cc4284a3d">_checkOptions</a> (self)</td></tr>
<tr class="separator:a0f1d05c056dedc296600316cc4284a3d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abf777c732f4fe93a948f24cab042e8ff" id="r_abf777c732f4fe93a948f24cab042e8ff"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpbackup_1_1backup_1_1Backup.html#abf777c732f4fe93a948f24cab042e8ff">_createDestPath</a> (self)</td></tr>
<tr class="separator:abf777c732f4fe93a948f24cab042e8ff"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adf0e724272f9f42e9b9c75f688f5339a" id="r_adf0e724272f9f42e9b9c75f688f5339a"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpbackup_1_1backup_1_1Backup.html#adf0e724272f9f42e9b9c75f688f5339a">_doBackup</a> (self)</td></tr>
<tr class="separator:adf0e724272f9f42e9b9c75f688f5339a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7c4103401a93d41509691e5819ea3f5f" id="r_a7c4103401a93d41509691e5819ea3f5f"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpbackup_1_1backup_1_1Backup.html#a7c4103401a93d41509691e5819ea3f5f">_getBackupDest</a> (self)</td></tr>
<tr class="separator:a7c4103401a93d41509691e5819ea3f5f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad75c33c7e1917a60ceabadccd0b198a0" id="r_ad75c33c7e1917a60ceabadccd0b198a0"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpbackup_1_1backup_1_1Backup.html#ad75c33c7e1917a60ceabadccd0b198a0">_getBackupList</a> (self)</td></tr>
<tr class="separator:ad75c33c7e1917a60ceabadccd0b198a0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a48f47d646fa775bab8d426053cc7a2aa" id="r_a48f47d646fa775bab8d426053cc7a2aa"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpbackup_1_1backup_1_1Backup.html#a48f47d646fa775bab8d426053cc7a2aa">_getBackupLog</a> (self)</td></tr>
<tr class="separator:a48f47d646fa775bab8d426053cc7a2aa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5b720f9904fdc98abda832bf43a3f407" id="r_a5b720f9904fdc98abda832bf43a3f407"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpbackup_1_1backup_1_1Backup.html#a5b720f9904fdc98abda832bf43a3f407">_getBackupLogFile</a> (self)</td></tr>
<tr class="separator:a5b720f9904fdc98abda832bf43a3f407"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a64503d1b3a5a3539645229db8a9bfea1" id="r_a64503d1b3a5a3539645229db8a9bfea1"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpbackup_1_1backup_1_1Backup.html#a64503d1b3a5a3539645229db8a9bfea1">_getBackupSizeLogFile</a> (self)</td></tr>
<tr class="separator:a64503d1b3a5a3539645229db8a9bfea1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae6aa22ea58fa5af1730e89d2fda30ebb" id="r_ae6aa22ea58fa5af1730e89d2fda30ebb"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpbackup_1_1backup_1_1Backup.html#ae6aa22ea58fa5af1730e89d2fda30ebb">_getBackupsToday</a> (self)</td></tr>
<tr class="separator:ae6aa22ea58fa5af1730e89d2fda30ebb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad9b560293001b7f08f48b67b22914800" id="r_ad9b560293001b7f08f48b67b22914800"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpbackup_1_1backup_1_1Backup.html#ad9b560293001b7f08f48b67b22914800">_getFullBackupCount</a> (self)</td></tr>
<tr class="separator:ad9b560293001b7f08f48b67b22914800"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab916d84c8791f18f30815c2612014cd6" id="r_ab916d84c8791f18f30815c2612014cd6"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpbackup_1_1backup_1_1Backup.html#ab916d84c8791f18f30815c2612014cd6">_getFullBackupDest</a> (self, fullBackupID)</td></tr>
<tr class="separator:ab916d84c8791f18f30815c2612014cd6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a22806b1ab925b5105691d3249b22e2a0" id="r_a22806b1ab925b5105691d3249b22e2a0"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpbackup_1_1backup_1_1Backup.html#a22806b1ab925b5105691d3249b22e2a0">_getFullBackupID</a> (self, backupDest)</td></tr>
<tr class="separator:a22806b1ab925b5105691d3249b22e2a0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1cae5eec67b44edc3d729a42d620a45c" id="r_a1cae5eec67b44edc3d729a42d620a45c"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpbackup_1_1backup_1_1Backup.html#a1cae5eec67b44edc3d729a42d620a45c">_getFullBackupPath</a> (self, backupPath)</td></tr>
<tr class="separator:a1cae5eec67b44edc3d729a42d620a45c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aadce423b0c91b61879fb9f810f67a605" id="r_aadce423b0c91b61879fb9f810f67a605"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpbackup_1_1backup_1_1Backup.html#aadce423b0c91b61879fb9f810f67a605">_getIncBackupList</a> (self, fullBackupID)</td></tr>
<tr class="separator:aadce423b0c91b61879fb9f810f67a605"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a209bf4d732082b41ab4764f6677bb4fa" id="r_a209bf4d732082b41ab4764f6677bb4fa"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpbackup_1_1backup_1_1Backup.html#a209bf4d732082b41ab4764f6677bb4fa">_getIncrBackupDest</a> (self, fullBackupID, incrBackupID)</td></tr>
<tr class="separator:a209bf4d732082b41ab4764f6677bb4fa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab420f469c74504897fef0883b9ee8494" id="r_ab420f469c74504897fef0883b9ee8494"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpbackup_1_1backup_1_1Backup.html#ab420f469c74504897fef0883b9ee8494">_getIncrBackupID</a> (self, backupDest)</td></tr>
<tr class="separator:ab420f469c74504897fef0883b9ee8494"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abd8f2b5dfa394cff26d11499da9607b8" id="r_abd8f2b5dfa394cff26d11499da9607b8"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpbackup_1_1backup_1_1Backup.html#abd8f2b5dfa394cff26d11499da9607b8">_getLastBackupPath</a> (self, backupDest)</td></tr>
<tr class="separator:abd8f2b5dfa394cff26d11499da9607b8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afaaf602f29a84191055da148099caf08" id="r_afaaf602f29a84191055da148099caf08"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpbackup_1_1backup_1_1Backup.html#afaaf602f29a84191055da148099caf08">_getLastFullBackup</a> (self)</td></tr>
<tr class="separator:afaaf602f29a84191055da148099caf08"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa12705d4491e5223907fae7a5dc0652d" id="r_aa12705d4491e5223907fae7a5dc0652d"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpbackup_1_1backup_1_1Backup.html#aa12705d4491e5223907fae7a5dc0652d">_getLastIncrBackup</a> (self, fullBackupID)</td></tr>
<tr class="separator:aa12705d4491e5223907fae7a5dc0652d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac5db7310c91460b1f04e48cc45002581" id="r_ac5db7310c91460b1f04e48cc45002581"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpbackup_1_1backup_1_1Backup.html#ac5db7310c91460b1f04e48cc45002581">_getSrc</a> (self)</td></tr>
<tr class="separator:ac5db7310c91460b1f04e48cc45002581"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a708a3b62ae21b214a7149c863b094fe0" id="r_a708a3b62ae21b214a7149c863b094fe0"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpbackup_1_1backup_1_1Backup.html#a708a3b62ae21b214a7149c863b094fe0">_loadConfig</a> (self)</td></tr>
<tr class="separator:a708a3b62ae21b214a7149c863b094fe0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a61c082a879394791e8fb03d738f3c84c" id="r_a61c082a879394791e8fb03d738f3c84c"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpbackup_1_1backup_1_1Backup.html#a61c082a879394791e8fb03d738f3c84c">_notifyEmail</a> (self, subjectMessage, body=&quot;&quot;)</td></tr>
<tr class="separator:a61c082a879394791e8fb03d738f3c84c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8c1f0255f55e88562a2caeee08d06561" id="r_a8c1f0255f55e88562a2caeee08d06561"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpbackup_1_1backup_1_1Backup.html#a8c1f0255f55e88562a2caeee08d06561">_purgeBackups</a> (self)</td></tr>
<tr class="separator:a8c1f0255f55e88562a2caeee08d06561"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5e0a55771212ebe03e437ba437953c8f" id="r_a5e0a55771212ebe03e437ba437953c8f"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpbackup_1_1backup_1_1Backup.html#a5e0a55771212ebe03e437ba437953c8f">_runChecks</a> (self)</td></tr>
<tr class="separator:a5e0a55771212ebe03e437ba437953c8f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa72da7562efc99ad7ec5e348e05fdd27" id="r_aa72da7562efc99ad7ec5e348e05fdd27"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpbackup_1_1backup_1_1Backup.html#aa72da7562efc99ad7ec5e348e05fdd27">_saveConfig</a> (self)</td></tr>
<tr class="separator:aa72da7562efc99ad7ec5e348e05fdd27"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab42772a7d1a68f7c3d532bf75c9e4227" id="r_ab42772a7d1a68f7c3d532bf75c9e4227"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpbackup_1_1backup_1_1Backup.html#ab42772a7d1a68f7c3d532bf75c9e4227">_saveDiskUsage</a> (self, backupDest, diskUsageBefore, diskUsageAfter, startTime)</td></tr>
<tr class="separator:ab42772a7d1a68f7c3d532bf75c9e4227"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7e067fd96ef50089e77fee3e1d2edcdb" id="r_a7e067fd96ef50089e77fee3e1d2edcdb"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpbackup_1_1backup_1_1Backup.html#a7e067fd96ef50089e77fee3e1d2edcdb">_sendMail</a> (self, server, username, password, toList, subject, body)</td></tr>
<tr class="separator:a7e067fd96ef50089e77fee3e1d2edcdb"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pro-attribs" name="pro-attribs"></a>
Protected Attributes</h2></td></tr>
<tr class="memitem:a7f9a85e66fca8983938e3ef12b102552" id="r_a7f9a85e66fca8983938e3ef12b102552"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpbackup_1_1backup_1_1Backup.html#a7f9a85e66fca8983938e3ef12b102552">_options</a></td></tr>
<tr class="separator:a7f9a85e66fca8983938e3ef12b102552"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a37b2976f2070fbdc23c02647ac6aca3b" id="r_a37b2976f2070fbdc23c02647ac6aca3b"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpbackup_1_1backup_1_1Backup.html#a37b2976f2070fbdc23c02647ac6aca3b">_uo</a></td></tr>
<tr class="separator:a37b2976f2070fbdc23c02647ac6aca3b"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><pre class="fragment">Responsible for providing backup functionality</pre> 
<p class="definition">Definition at line <a class="el" href="backup_8py_source.html#l00088">88</a> of file <a class="el" href="backup_8py_source.html">backup.py</a>.</p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a4ceb54c097120638d9a5804fc12ad171" name="a4ceb54c097120638d9a5804fc12ad171"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4ceb54c097120638d9a5804fc12ad171">&#9670;&#160;</a></span>__init__()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">__init__ </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>uo</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>options</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">@brief Constructor
   @param uo = User output object for notifying user of progress
   @param options = Command line options</pre> 
<p class="definition">Definition at line <a class="el" href="backup_8py_source.html#l00105">105</a> of file <a class="el" href="backup_8py_source.html">backup.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  105</span>    <span class="keyword">def </span>__init__(self, uo, options):</div>
<div class="line"><span class="lineno">  106</span>        <span class="stringliteral">&quot;&quot;&quot;@brief Constructor</span></div>
<div class="line"><span class="lineno">  107</span><span class="stringliteral">           @param uo = User output object for notifying user of progress</span></div>
<div class="line"><span class="lineno">  108</span><span class="stringliteral">           @param options = Command line options</span></div>
<div class="line"><span class="lineno">  109</span><span class="stringliteral">           &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  110</span>        self._uo        = uo</div>
<div class="line"><span class="lineno">  111</span>        self._options   = options</div>
<div class="line"><span class="lineno">  112</span> </div>
<div class="line"><span class="lineno">  113</span>        self._checkOptions()</div>
<div class="line"><span class="lineno">  114</span> </div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a0f1d05c056dedc296600316cc4284a3d" name="a0f1d05c056dedc296600316cc4284a3d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0f1d05c056dedc296600316cc4284a3d">&#9670;&#160;</a></span>_checkOptions()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">_checkOptions </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<pre class="fragment">@brief Check the required options have been entered by the user</pre> 
<p class="definition">Definition at line <a class="el" href="backup_8py_source.html#l00115">115</a> of file <a class="el" href="backup_8py_source.html">backup.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  115</span>    <span class="keyword">def </span>_checkOptions(self):</div>
<div class="line"><span class="lineno">  116</span>        <span class="stringliteral">&quot;&quot;&quot;@brief Check the required options have been entered by the user&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  117</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  118</span><span class="stringliteral">        showCmdLine = self._options.show_cmd_line</span></div>
<div class="line"><span class="lineno">  119</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  120</span><span class="stringliteral">        if self._options.test_email:</span></div>
<div class="line"><span class="lineno">  121</span><span class="stringliteral">            if not self._options.email_server:</span></div>
<div class="line"><span class="lineno">  122</span><span class="stringliteral">                raise BackupError(&quot;To test the email you must define the email server.&quot;)</span></div>
<div class="line"><span class="lineno">  123</span><span class="stringliteral">            return</span></div>
<div class="line"><span class="lineno">  124</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  125</span><span class="stringliteral">        #Load config is required to do so</span></div>
<div class="line"><span class="lineno">  126</span><span class="stringliteral">        self._loadConfig()</span></div>
<div class="line"><span class="lineno">  127</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  128</span><span class="stringliteral">        if showCmdLine:</span></div>
<div class="line"><span class="lineno">  129</span><span class="stringliteral">            self.showCmdLine()</span></div>
<div class="line"><span class="lineno">  130</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  131</span><span class="stringliteral">        if self._options.src == None:</span></div>
<div class="line"><span class="lineno">  132</span><span class="stringliteral">            raise BackupError(&quot;Please define the src path on the command line.&quot;)</span></div>
<div class="line"><span class="lineno">  133</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  134</span><span class="stringliteral">        #If the src path exists but does not end /. / at the end of the path ensures we copy the dir contents</span></div>
<div class="line"><span class="lineno">  135</span><span class="stringliteral">        if  os.path.isdir(self._options.src) and not self._options.src.endswith(&quot;/&quot;):</span></div>
<div class="line"><span class="lineno">  136</span><span class="stringliteral">            self._options.src=&quot;{}/&quot;.format(self._options.src)</span></div>
<div class="line"><span class="lineno">  137</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  138</span><span class="stringliteral">        if self._options.dest == None:</span></div>
<div class="line"><span class="lineno">  139</span><span class="stringliteral">            raise BackupError(&quot;Please define the dest path on the command line.&quot;)</span></div>
<div class="line"><span class="lineno">  140</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  141</span><span class="stringliteral">        if self._options.max_full &lt; 2:</span></div>
<div class="line"><span class="lineno">  142</span><span class="stringliteral">            raise BackupError(&quot;The minimum number of full backups that you can set is 2.&quot;)</span></div>
<div class="line"><span class="lineno">  143</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  144</span><span class="stringliteral">        if self._options.max_inc &lt; 0:</span></div>
<div class="line"><span class="lineno">  145</span><span class="stringliteral">            raise BackupError(&quot;The minimum number of incremental backups cannot be negative.&quot;)</span></div>
<div class="line"><span class="lineno">  146</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  147</span><span class="stringliteral">        #Ensure local dest path exists</span></div>
<div class="line"><span class="lineno">  148</span><span class="stringliteral">        if not os.path.isdir(self._options.dest):</span></div>
<div class="line"><span class="lineno">  149</span><span class="stringliteral">            if self._options.disable_create_dest:</span></div>
<div class="line"><span class="lineno">  150</span><span class="stringliteral">                raise BackupError(&quot;{} path does not exist.&quot;.format(self._options.dest) )</span></div>
<div class="line"><span class="lineno">  151</span><span class="stringliteral">            else:</span></div>
<div class="line"><span class="lineno">  152</span><span class="stringliteral">                self._createDestPath()</span></div>
<div class="line"><span class="lineno">  153</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  154</span><span class="stringliteral">        if self._options.save_config and self._options.load_config:</span></div>
<div class="line"><span class="lineno">  155</span><span class="stringliteral">            raise BackupError(&quot;The save and load config command line options cannot be used at the same time.&quot;)</span></div>
<div class="line"><span class="lineno">  156</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  157</span><span class="stringliteral">        if self._options.email_server and not self._options.email_list:</span></div>
<div class="line"><span class="lineno">  158</span><span class="stringliteral">            raise BackupError(&quot;If the email server is defined then you must define the email list&quot;)</span></div>
<div class="line"><span class="lineno">  159</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  160</span><span class="stringliteral">        if self._options.email_list and not self._options.email_server:</span></div>
<div class="line"><span class="lineno">  161</span><span class="stringliteral">            raise BackupError(&quot;If the email list is defined then you must define the email server&quot;)</span></div>
<div class="line"><span class="lineno">  162</span><span class="stringliteral"></span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="abf777c732f4fe93a948f24cab042e8ff" name="abf777c732f4fe93a948f24cab042e8ff"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abf777c732f4fe93a948f24cab042e8ff">&#9670;&#160;</a></span>_createDestPath()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">_createDestPath </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<pre class="fragment">@brief Create dest path if it does not exist</pre> 
<p class="definition">Definition at line <a class="el" href="backup_8py_source.html#l00210">210</a> of file <a class="el" href="backup_8py_source.html">backup.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  210</span>    <span class="keyword">def </span>_createDestPath(self):</div>
<div class="line"><span class="lineno">  211</span>        <span class="stringliteral">&quot;&quot;&quot;@brief Create dest path if it does not exist&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  212</span>        <span class="keywordflow">if</span> <span class="keywordflow">not</span> os.path.isdir(self._options.dest):</div>
<div class="line"><span class="lineno">  213</span> </div>
<div class="line"><span class="lineno">  214</span>            os.makedirs(self._options.dest)</div>
<div class="line"><span class="lineno">  215</span> </div>
<div class="line"><span class="lineno">  216</span>            <span class="keywordflow">if</span> <span class="keywordflow">not</span> os.path.isdir(self._options.dest):</div>
<div class="line"><span class="lineno">  217</span> </div>
<div class="line"><span class="lineno">  218</span>                <span class="keywordflow">raise</span> BackupError(<span class="stringliteral">&quot;Failed to create dest path: {}&quot;</span>.format(self._options.dest) )</div>
<div class="line"><span class="lineno">  219</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="adf0e724272f9f42e9b9c75f688f5339a" name="adf0e724272f9f42e9b9c75f688f5339a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adf0e724272f9f42e9b9c75f688f5339a">&#9670;&#160;</a></span>_doBackup()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">_doBackup </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<pre class="fragment">@brief Execute the rsync command to perform the backup</pre> 
<p class="definition">Definition at line <a class="el" href="backup_8py_source.html#l00673">673</a> of file <a class="el" href="backup_8py_source.html">backup.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  673</span>    <span class="keyword">def </span>_doBackup(self):</div>
<div class="line"><span class="lineno">  674</span>        <span class="stringliteral">&quot;&quot;&quot;@brief Execute the rsync command to perform the backup&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  675</span>        backupDest              = <span class="keywordtype">None</span></div>
<div class="line"><span class="lineno">  676</span>        diskUsageBefore         = <span class="keywordtype">None</span></div>
<div class="line"><span class="lineno">  677</span>        diskUsageAfter          = <span class="keywordtype">None</span></div>
<div class="line"><span class="lineno">  678</span>        incompleteBackupDest    = <span class="keywordtype">None</span></div>
<div class="line"><span class="lineno">  679</span>        <span class="keywordflow">try</span>:</div>
<div class="line"><span class="lineno">  680</span>            startTime = time.time()</div>
<div class="line"><span class="lineno">  681</span> </div>
<div class="line"><span class="lineno">  682</span>            diskUsageBefore = DiskUsage(self._options.dest)</div>
<div class="line"><span class="lineno">  683</span>            backupDest = self._getBackupDest()</div>
<div class="line"><span class="lineno">  684</span>            incompleteBackupDest    = <span class="stringliteral">&quot;{}.{}&quot;</span>.format(backupDest, Backup.NOT_STARTED_BACKUP_SUFFIX)</div>
<div class="line"><span class="lineno">  685</span> </div>
<div class="line"><span class="lineno">  686</span>            backupsToday = self._getBackupsToday()</div>
<div class="line"><span class="lineno">  687</span>            if( backupsToday &gt;= self._options.max_daily_backups ):</div>
<div class="line"><span class="lineno">  688</span>                <span class="keywordflow">raise</span> BackupError(<span class="stringliteral">&quot;{} backups have been created today. The maximum daily backup count (set on the command line) is {}. Therefore no more backups can be created today&quot;</span>.format(backupsToday, self._options.max_daily_backups) )</div>
<div class="line"><span class="lineno">  689</span> </div>
<div class="line"><span class="lineno">  690</span>            <span class="comment">#If required run the script before the backup starts (usefull for setting up LVM snapshots)</span></div>
<div class="line"><span class="lineno">  691</span>            <span class="keywordflow">if</span> self._options.pre_script:</div>
<div class="line"><span class="lineno">  692</span>                cmdOutput = check_output(self._options.pre_script, shell=<span class="keyword">True</span>, stderr=STDOUT)</div>
<div class="line"><span class="lineno">  693</span>                self._uo.info(cmdOutput)</div>
<div class="line"><span class="lineno">  694</span> </div>
<div class="line"><span class="lineno">  695</span>            backupSrc, sshPort = self._getSrc()</div>
<div class="line"><span class="lineno">  696</span> </div>
<div class="line"><span class="lineno">  697</span>            self._uo.info(<span class="stringliteral">&quot;Backing up {} to {}&quot;</span>.format(backupSrc, backupDest) )</div>
<div class="line"><span class="lineno">  698</span> </div>
<div class="line"><span class="lineno">  699</span>            <span class="comment">#Get the full backup path associated with this backup</span></div>
<div class="line"><span class="lineno">  700</span>            fullBackupPath = self._getFullBackupPath(backupDest)</div>
<div class="line"><span class="lineno">  701</span> </div>
<div class="line"><span class="lineno">  702</span>            <span class="comment">#If this is the full backup</span></div>
<div class="line"><span class="lineno">  703</span>            <span class="keywordflow">if</span> backupDest == fullBackupPath:</div>
<div class="line"><span class="lineno">  704</span> </div>
<div class="line"><span class="lineno">  705</span>                cmd=<span class="stringliteral">&quot;{} -avh --safe-links --delete&quot;</span>.format(Backup.RSYNC_CMD)</div>
<div class="line"><span class="lineno">  706</span> </div>
<div class="line"><span class="lineno">  707</span>            <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno">  708</span> </div>
<div class="line"><span class="lineno">  709</span>                lastBackupPath = self._getLastBackupPath(backupDest)</div>
<div class="line"><span class="lineno">  710</span>                cmd=<span class="stringliteral">&quot;{} -avh --safe-links --delete --link-dest={}&quot;</span>.format(Backup.RSYNC_CMD, lastBackupPath)</div>
<div class="line"><span class="lineno">  711</span> </div>
<div class="line"><span class="lineno">  712</span>            <span class="comment">#If the user has defined an exclusion pattern</span></div>
<div class="line"><span class="lineno">  713</span>            <span class="keywordflow">if</span> self._options.src_exclude:</div>
<div class="line"><span class="lineno">  714</span>                exludePatternList  = self._options.src_exclude.split(<span class="stringliteral">&quot;,&quot;</span>)</div>
<div class="line"><span class="lineno">  715</span>                <span class="keywordflow">for</span> exludePattern <span class="keywordflow">in</span> exludePatternList:</div>
<div class="line"><span class="lineno">  716</span>                    cmd=<span class="stringliteral">&quot;{} --exclude {}&quot;</span>.format(cmd, exludePattern)</div>
<div class="line"><span class="lineno">  717</span> </div>
<div class="line"><span class="lineno">  718</span>            <span class="comment">#We set the backup destination with an incomplete suffix and then when the backup is complete</span></div>
<div class="line"><span class="lineno">  719</span>            <span class="comment">#set it to the correct destination. This allows users to easily see if a backup did not complete</span></div>
<div class="line"><span class="lineno">  720</span>            incompleteBackupDest = <span class="stringliteral">&quot;{}.{}&quot;</span>.format(backupDest, Backup.INCOMPLETE_BACKUP_SUFFIX)</div>
<div class="line"><span class="lineno">  721</span> </div>
<div class="line"><span class="lineno">  722</span>            <span class="keywordflow">if</span> sshPort:</div>
<div class="line"><span class="lineno">  723</span> </div>
<div class="line"><span class="lineno">  724</span>                cmd=<span class="stringliteral">&quot;{} -e \&quot;ssh -p {} -o StrictHostKeyChecking=no -o UserKnownHostsFile=/dev/null\&quot; {} {}&quot;</span>.format(cmd, sshPort, backupSrc, incompleteBackupDest)</div>
<div class="line"><span class="lineno">  725</span> </div>
<div class="line"><span class="lineno">  726</span>            <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno">  727</span> </div>
<div class="line"><span class="lineno">  728</span>                cmd=<span class="stringliteral">&quot;{} {} {}&quot;</span>.format(cmd, backupSrc, incompleteBackupDest)</div>
<div class="line"><span class="lineno">  729</span> </div>
<div class="line"><span class="lineno">  730</span>            self._notifyEmail(<span class="stringliteral">&quot;Backup Started&quot;</span>, body=<span class="stringliteral">&quot;BACKUP COMMAND\n\n{}\n\n\nThe backup source is {}. The backup will be stored in the {} path&quot;</span>.format(cmd, backupSrc, backupDest) )</div>
<div class="line"><span class="lineno">  731</span> </div>
<div class="line"><span class="lineno">  732</span>            self._uo.info(<span class="stringliteral">&quot;RSYNC CMD: {}&quot;</span>.format(cmd) )</div>
<div class="line"><span class="lineno">  733</span> </div>
<div class="line"><span class="lineno">  734</span>            <span class="comment">#Do the backup</span></div>
<div class="line"><span class="lineno">  735</span>            cmdOutput = check_output(cmd, shell=<span class="keyword">True</span>, stderr=STDOUT)</div>
<div class="line"><span class="lineno">  736</span>            <span class="keywordflow">if</span> cmdOutput <span class="keywordflow">and</span> len(cmdOutput) &gt; 0:</div>
<div class="line"><span class="lineno">  737</span>                lines = cmdOutput.decode().split(<span class="stringliteral">&quot;\n&quot;</span>)</div>
<div class="line"><span class="lineno">  738</span>                <span class="keywordflow">for</span> line <span class="keywordflow">in</span> lines:</div>
<div class="line"><span class="lineno">  739</span>                    <span class="keywordflow">if</span> <span class="keywordflow">not</span> (line.startswith(<span class="stringliteral">&quot;.&quot;</span>) <span class="keywordflow">and</span> len(line) == 2):</div>
<div class="line"><span class="lineno">  740</span>                        self._uo.info(line)</div>
<div class="line"><span class="lineno">  741</span> </div>
<div class="line"><span class="lineno">  742</span>            os.rename(incompleteBackupDest, backupDest)</div>
<div class="line"><span class="lineno">  743</span>            self._uo.info(<span class="stringliteral">&quot;Changed {} to {}&quot;</span>.format(incompleteBackupDest, backupDest))</div>
<div class="line"><span class="lineno">  744</span> </div>
<div class="line"><span class="lineno">  745</span>            diskUsageAfter = DiskUsage(self._options.dest)</div>
<div class="line"><span class="lineno">  746</span>            self._saveDiskUsage(backupDest, diskUsageBefore, diskUsageAfter, startTime)</div>
<div class="line"><span class="lineno">  747</span> </div>
<div class="line"><span class="lineno">  748</span>            backupCompletedMessage = <span class="stringliteral">&quot;Backup Completed Successfully&quot;</span></div>
<div class="line"><span class="lineno">  749</span>            <span class="keywordflow">if</span> diskUsageAfter.getFreeGB() &lt; (self._options.low/1E3):</div>
<div class="line"><span class="lineno">  750</span>                backupCompletedMessage =  <span class="stringliteral">&quot;{}  !!! Low Disk Space !!!&quot;</span>.format(backupCompletedMessage)</div>
<div class="line"><span class="lineno">  751</span> </div>
<div class="line"><span class="lineno">  752</span>            self._uo.info(backupCompletedMessage)</div>
<div class="line"><span class="lineno">  753</span>            self._notifyEmail(backupCompletedMessage, body=<span class="stringliteral">&quot;This backup has been stored in the {} path\n\n\n{}&quot;</span>.format(backupDest, self._getBackupLog() ) )</div>
<div class="line"><span class="lineno">  754</span> </div>
<div class="line"><span class="lineno">  755</span>            <span class="comment">#Purge old backups if required</span></div>
<div class="line"><span class="lineno">  756</span>            self._purgeBackups()</div>
<div class="line"><span class="lineno">  757</span> </div>
<div class="line"><span class="lineno">  758</span>        <span class="keywordflow">finally</span>:</div>
<div class="line"><span class="lineno">  759</span>            <span class="comment">#If the backup failed, create the record of the backup space used</span></div>
<div class="line"><span class="lineno">  760</span>            <span class="keywordflow">if</span> <span class="keywordflow">not</span> diskUsageAfter:</div>
<div class="line"><span class="lineno">  761</span>                diskUsageAfter = DiskUsage(self._options.dest)</div>
<div class="line"><span class="lineno">  762</span>                self._saveDiskUsage(incompleteBackupDest, diskUsageBefore, diskUsageAfter, startTime)</div>
<div class="line"><span class="lineno">  763</span> </div>
<div class="line"><span class="lineno">  764</span>            <span class="comment">#If required run the script after the backup complete (usefull for closing down LVM snapshots)</span></div>
<div class="line"><span class="lineno">  765</span>            <span class="keywordflow">if</span> self._options.post_script:</div>
<div class="line"><span class="lineno">  766</span>                cmdOutput = check_output(self._options.post_script, shell=<span class="keyword">True</span>, stderr=STDOUT)</div>
<div class="line"><span class="lineno">  767</span>                self._uo.info(cmdOutput)</div>
<div class="line"><span class="lineno">  768</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a7c4103401a93d41509691e5819ea3f5f" name="a7c4103401a93d41509691e5819ea3f5f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7c4103401a93d41509691e5819ea3f5f">&#9670;&#160;</a></span>_getBackupDest()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">_getBackupDest </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<pre class="fragment">@brief Get the backup dir name
   @return a The backup destination path

   If no backup is present in the dest folder return the intitial full backup path

   If a full backup is present but we have not reached the max number of incremental backups
   return the next incremental backup path.

   If we have reached the max number of incremental backups return the next full backup path.</pre> 
<p class="definition">Definition at line <a class="el" href="backup_8py_source.html#l00403">403</a> of file <a class="el" href="backup_8py_source.html">backup.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  403</span>    <span class="keyword">def </span>_getBackupDest(self):</div>
<div class="line"><span class="lineno">  404</span>        <span class="stringliteral">&quot;&quot;&quot;@brief Get the backup dir name</span></div>
<div class="line"><span class="lineno">  405</span><span class="stringliteral">           @return a The backup destination path</span></div>
<div class="line"><span class="lineno">  406</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  407</span><span class="stringliteral">           If no backup is present in the dest folder return the intitial full backup path</span></div>
<div class="line"><span class="lineno">  408</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  409</span><span class="stringliteral">           If a full backup is present but we have not reached the max number of incremental backups</span></div>
<div class="line"><span class="lineno">  410</span><span class="stringliteral">           return the next incremental backup path.</span></div>
<div class="line"><span class="lineno">  411</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  412</span><span class="stringliteral">           If we have reached the max number of incremental backups return the next full backup path.&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  413</span> </div>
<div class="line"><span class="lineno">  414</span>        backupDest = <span class="stringliteral">&quot;&quot;</span></div>
<div class="line"><span class="lineno">  415</span> </div>
<div class="line"><span class="lineno">  416</span>        lastFullBackup      = self._getLastFullBackup()</div>
<div class="line"><span class="lineno">  417</span> </div>
<div class="line"><span class="lineno">  418</span>        <span class="comment">#If no full backup return full backup with ID = 1</span></div>
<div class="line"><span class="lineno">  419</span>        <span class="keywordflow">if</span> len( lastFullBackup ) == 0:</div>
<div class="line"><span class="lineno">  420</span> </div>
<div class="line"><span class="lineno">  421</span>            backupDest = self._getFullBackupDest(1)</div>
<div class="line"><span class="lineno">  422</span> </div>
<div class="line"><span class="lineno">  423</span>        <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno">  424</span> </div>
<div class="line"><span class="lineno">  425</span>            fullBackupID = self._getFullBackupID(lastFullBackup)</div>
<div class="line"><span class="lineno">  426</span> </div>
<div class="line"><span class="lineno">  427</span>            incrBackup = self._getLastIncrBackup(fullBackupID)</div>
<div class="line"><span class="lineno">  428</span> </div>
<div class="line"><span class="lineno">  429</span>            <span class="comment">#If the user wishes a full backup every month and we are on the</span></div>
<div class="line"><span class="lineno">  430</span>            <span class="comment"># first day of the month then perform a full backup.</span></div>
<div class="line"><span class="lineno">  431</span>            now = datetime.datetime.today()</div>
<div class="line"><span class="lineno">  432</span>            <span class="keywordflow">if</span> self._options.monthly_full <span class="keywordflow">and</span> now.day == 1:</div>
<div class="line"><span class="lineno">  433</span> </div>
<div class="line"><span class="lineno">  434</span>                backupDest = self._getFullBackupDest(fullBackupID+1)</div>
<div class="line"><span class="lineno">  435</span> </div>
<div class="line"><span class="lineno">  436</span>            <span class="comment">#If no incremental backups are required then select next full backup</span></div>
<div class="line"><span class="lineno">  437</span>            <span class="keywordflow">elif</span> self._options.max_inc == 0:</div>
<div class="line"><span class="lineno">  438</span> </div>
<div class="line"><span class="lineno">  439</span>                backupDest = self._getFullBackupDest(fullBackupID+1)</div>
<div class="line"><span class="lineno">  440</span> </div>
<div class="line"><span class="lineno">  441</span>            <span class="comment">#If no incr backup return incr backup with ID = 1</span></div>
<div class="line"><span class="lineno">  442</span>            <span class="keywordflow">elif</span> len(incrBackup) == 0:</div>
<div class="line"><span class="lineno">  443</span> </div>
<div class="line"><span class="lineno">  444</span>                backupDest = self._getIncrBackupDest(fullBackupID, 1)</div>
<div class="line"><span class="lineno">  445</span> </div>
<div class="line"><span class="lineno">  446</span>            <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno">  447</span>                incrBackupID = self._getIncrBackupID(incrBackup)</div>
<div class="line"><span class="lineno">  448</span> </div>
<div class="line"><span class="lineno">  449</span>                <span class="comment">#If all the incr backups have been done</span></div>
<div class="line"><span class="lineno">  450</span>                <span class="keywordflow">if</span> incrBackupID &gt;= self._options.max_inc:</div>
<div class="line"><span class="lineno">  451</span> </div>
<div class="line"><span class="lineno">  452</span>                    <span class="comment">#return the next full backup</span></div>
<div class="line"><span class="lineno">  453</span>                    backupDest = self._getFullBackupDest(fullBackupID+1)</div>
<div class="line"><span class="lineno">  454</span> </div>
<div class="line"><span class="lineno">  455</span>                <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno">  456</span> </div>
<div class="line"><span class="lineno">  457</span>                    backupDest = self._getIncrBackupDest(fullBackupID, incrBackupID+1)</div>
<div class="line"><span class="lineno">  458</span> </div>
<div class="line"><span class="lineno">  459</span>        <span class="keywordflow">return</span> backupDest</div>
<div class="line"><span class="lineno">  460</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="ad75c33c7e1917a60ceabadccd0b198a0" name="ad75c33c7e1917a60ceabadccd0b198a0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad75c33c7e1917a60ceabadccd0b198a0">&#9670;&#160;</a></span>_getBackupList()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">_getBackupList </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<pre class="fragment">@brief Return a list of all full and incremental backups that are stored, sorted into date order</pre> 
<p class="definition">Definition at line <a class="el" href="backup_8py_source.html#l00489">489</a> of file <a class="el" href="backup_8py_source.html">backup.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  489</span>    <span class="keyword">def </span>_getBackupList(self):</div>
<div class="line"><span class="lineno">  490</span>        <span class="stringliteral">&quot;&quot;&quot;@brief Return a list of all full and incremental backups that are stored, sorted into date order&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  491</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  492</span><span class="stringliteral">        fullBackupList = []</span></div>
<div class="line"><span class="lineno">  493</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  494</span><span class="stringliteral">        entryList = os.listdir(self._options.dest)</span></div>
<div class="line"><span class="lineno">  495</span><span class="stringliteral">        for entry in entryList:</span></div>
<div class="line"><span class="lineno">  496</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  497</span><span class="stringliteral">            if entry.find(&quot;.{}_&quot;.format(Backup.FULL_BACKUP_DIR_TEXT) ) != -1:</span></div>
<div class="line"><span class="lineno">  498</span><span class="stringliteral">                fullBackupList.append(entry)</span></div>
<div class="line"><span class="lineno">  499</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  500</span><span class="stringliteral">        fullBackupList.sort()</span></div>
<div class="line"><span class="lineno">  501</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  502</span><span class="stringliteral">        return fullBackupList</span></div>
<div class="line"><span class="lineno">  503</span><span class="stringliteral"></span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a48f47d646fa775bab8d426053cc7a2aa" name="a48f47d646fa775bab8d426053cc7a2aa"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a48f47d646fa775bab8d426053cc7a2aa">&#9670;&#160;</a></span>_getBackupLog()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">_getBackupLog </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<pre class="fragment">@brief Get the size of the backup over time
   @return the above</pre> 
<p class="definition">Definition at line <a class="el" href="backup_8py_source.html#l00806">806</a> of file <a class="el" href="backup_8py_source.html">backup.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  806</span>    <span class="keyword">def </span>_getBackupLog(self):</div>
<div class="line"><span class="lineno">  807</span>        <span class="stringliteral">&quot;&quot;&quot;@brief Get the size of the backup over time</span></div>
<div class="line"><span class="lineno">  808</span><span class="stringliteral">           @return the above&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  809</span>        lines = []</div>
<div class="line"><span class="lineno">  810</span>        backupSizeRecordLogFile = self._getBackupLogFile()</div>
<div class="line"><span class="lineno">  811</span>        <span class="keywordflow">if</span> os.path.isfile(backupSizeRecordLogFile):</div>
<div class="line"><span class="lineno">  812</span>            fd = open(backupSizeRecordLogFile, <span class="stringliteral">&#39;r&#39;</span>)</div>
<div class="line"><span class="lineno">  813</span>            lines = fd.readlines()</div>
<div class="line"><span class="lineno">  814</span>            fd.close()</div>
<div class="line"><span class="lineno">  815</span> </div>
<div class="line"><span class="lineno">  816</span>        <span class="keywordflow">return</span> <span class="stringliteral">&quot;&quot;</span>.join(lines)</div>
<div class="line"><span class="lineno">  817</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a5b720f9904fdc98abda832bf43a3f407" name="a5b720f9904fdc98abda832bf43a3f407"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5b720f9904fdc98abda832bf43a3f407">&#9670;&#160;</a></span>_getBackupLogFile()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">_getBackupLogFile </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<pre class="fragment">@return The name of the backup log file.</pre> 
<p class="definition">Definition at line <a class="el" href="backup_8py_source.html#l00775">775</a> of file <a class="el" href="backup_8py_source.html">backup.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  775</span>    <span class="keyword">def </span>_getBackupLogFile(self):</div>
<div class="line"><span class="lineno">  776</span>        <span class="stringliteral">&quot;&quot;&quot;@return The name of the backup log file.&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  777</span>        <span class="keywordflow">return</span> os.path.join(self._options.dest, Backup.BACKUP_LOG_FILE)</div>
<div class="line"><span class="lineno">  778</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a64503d1b3a5a3539645229db8a9bfea1" name="a64503d1b3a5a3539645229db8a9bfea1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a64503d1b3a5a3539645229db8a9bfea1">&#9670;&#160;</a></span>_getBackupSizeLogFile()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">_getBackupSizeLogFile </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<pre class="fragment">@return The name of the backup size log file.
           This was the old log file name and is no longer used. If this
           file is found then it is deleted.</pre> 
<p class="definition">Definition at line <a class="el" href="backup_8py_source.html#l00769">769</a> of file <a class="el" href="backup_8py_source.html">backup.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  769</span>    <span class="keyword">def </span>_getBackupSizeLogFile(self):</div>
<div class="line"><span class="lineno">  770</span>        <span class="stringliteral">&quot;&quot;&quot;@return The name of the backup size log file.</span></div>
<div class="line"><span class="lineno">  771</span><span class="stringliteral">                   This was the old log file name and is no longer used. If this</span></div>
<div class="line"><span class="lineno">  772</span><span class="stringliteral">                   file is found then it is deleted.&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  773</span>        <span class="keywordflow">return</span> os.path.join(self._options.dest, Backup.BACKUP_SIZE_LOG_FILE)</div>
<div class="line"><span class="lineno">  774</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="ae6aa22ea58fa5af1730e89d2fda30ebb" name="ae6aa22ea58fa5af1730e89d2fda30ebb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae6aa22ea58fa5af1730e89d2fda30ebb">&#9670;&#160;</a></span>_getBackupsToday()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">_getBackupsToday </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<pre class="fragment">@brief Get the number of backups that have been created today</pre> 
<p class="definition">Definition at line <a class="el" href="backup_8py_source.html#l00660">660</a> of file <a class="el" href="backup_8py_source.html">backup.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  660</span>    <span class="keyword">def </span>_getBackupsToday(self):</div>
<div class="line"><span class="lineno">  661</span>        <span class="stringliteral">&quot;&quot;&quot;@brief Get the number of backups that have been created today&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  662</span>        backupsToday = 0</div>
<div class="line"><span class="lineno">  663</span> </div>
<div class="line"><span class="lineno">  664</span>        dayStamp = time.strftime(<span class="stringliteral">&quot;%Y-%b-%d_&quot;</span>, time.gmtime())</div>
<div class="line"><span class="lineno">  665</span> </div>
<div class="line"><span class="lineno">  666</span>        entryList = os.listdir(self._options.dest)</div>
<div class="line"><span class="lineno">  667</span>        <span class="keywordflow">for</span> entry <span class="keywordflow">in</span> entryList:</div>
<div class="line"><span class="lineno">  668</span>            <span class="keywordflow">if</span> entry.find(dayStamp) != -1:</div>
<div class="line"><span class="lineno">  669</span>                backupsToday=backupsToday+1</div>
<div class="line"><span class="lineno">  670</span> </div>
<div class="line"><span class="lineno">  671</span>        <span class="keywordflow">return</span> backupsToday</div>
<div class="line"><span class="lineno">  672</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="ad9b560293001b7f08f48b67b22914800" name="ad9b560293001b7f08f48b67b22914800"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad9b560293001b7f08f48b67b22914800">&#9670;&#160;</a></span>_getFullBackupCount()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">_getFullBackupCount </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<pre class="fragment">@brief Get the number of full backups currently stored in the dest location</pre> 
<p class="definition">Definition at line <a class="el" href="backup_8py_source.html#l00476">476</a> of file <a class="el" href="backup_8py_source.html">backup.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  476</span>    <span class="keyword">def </span>_getFullBackupCount(self):</div>
<div class="line"><span class="lineno">  477</span>        <span class="stringliteral">&quot;&quot;&quot;@brief Get the number of full backups currently stored in the dest location&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  478</span> </div>
<div class="line"><span class="lineno">  479</span>        fullBackupCount = 0</div>
<div class="line"><span class="lineno">  480</span> </div>
<div class="line"><span class="lineno">  481</span>        entryList = os.listdir(self._options.dest)</div>
<div class="line"><span class="lineno">  482</span>        <span class="keywordflow">for</span> entry <span class="keywordflow">in</span> entryList:</div>
<div class="line"><span class="lineno">  483</span>            <span class="comment">#If this is a full backup path</span></div>
<div class="line"><span class="lineno">  484</span>            <span class="keywordflow">if</span> entry.find(<span class="stringliteral">&quot;.{}_&quot;</span>.format(Backup.FULL_BACKUP_DIR_TEXT) ) != -1 <span class="keywordflow">and</span> entry.find(<span class="stringliteral">&quot;_{}_&quot;</span>.format(Backup.INCREMENTAL_BACKUP_DIR_TEXT) ) == -1:</div>
<div class="line"><span class="lineno">  485</span>                fullBackupCount=fullBackupCount+1</div>
<div class="line"><span class="lineno">  486</span> </div>
<div class="line"><span class="lineno">  487</span>        <span class="keywordflow">return</span> fullBackupCount</div>
<div class="line"><span class="lineno">  488</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="ab916d84c8791f18f30815c2612014cd6" name="ab916d84c8791f18f30815c2612014cd6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab916d84c8791f18f30815c2612014cd6">&#9670;&#160;</a></span>_getFullBackupDest()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">_getFullBackupDest </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>fullBackupID</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<pre class="fragment">@brief get the full backup destination path</pre> 
<p class="definition">Definition at line <a class="el" href="backup_8py_source.html#l00348">348</a> of file <a class="el" href="backup_8py_source.html">backup.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  348</span>    <span class="keyword">def </span>_getFullBackupDest(self, fullBackupID):</div>
<div class="line"><span class="lineno">  349</span>        <span class="stringliteral">&quot;&quot;&quot;@brief get the full backup destination path&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  350</span>        timeStamp = time.strftime(<span class="stringliteral">&quot;%Y-%b-%d_%H_%M_%S&quot;</span>, time.gmtime())</div>
<div class="line"><span class="lineno">  351</span>        backupDest = os.path.join(self._options.dest, <span class="stringliteral">&quot;{}.{}_{}&quot;</span>.format(timeStamp, Backup.FULL_BACKUP_DIR_TEXT, fullBackupID) )</div>
<div class="line"><span class="lineno">  352</span>        <span class="keywordflow">return</span> backupDest</div>
<div class="line"><span class="lineno">  353</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a22806b1ab925b5105691d3249b22e2a0" name="a22806b1ab925b5105691d3249b22e2a0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a22806b1ab925b5105691d3249b22e2a0">&#9670;&#160;</a></span>_getFullBackupID()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">_getFullBackupID </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>backupDest</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<pre class="fragment">@brief Given a backup dir name, extract the full backup ID
   @return The full backup ID or -1 if not found</pre> 
<p class="definition">Definition at line <a class="el" href="backup_8py_source.html#l00231">231</a> of file <a class="el" href="backup_8py_source.html">backup.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  231</span>    <span class="keyword">def </span>_getFullBackupID(self, backupDest):</div>
<div class="line"><span class="lineno">  232</span>        <span class="stringliteral">&quot;&quot;&quot;@brief Given a backup dir name, extract the full backup ID</span></div>
<div class="line"><span class="lineno">  233</span><span class="stringliteral">           @return The full backup ID or -1 if not found&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  234</span>        fullNum = -1</div>
<div class="line"><span class="lineno">  235</span> </div>
<div class="line"><span class="lineno">  236</span>        fullBackupSubStr = <span class="stringliteral">&quot;.{}&quot;</span>.format(Backup.FULL_BACKUP_DIR_TEXT)</div>
<div class="line"><span class="lineno">  237</span> </div>
<div class="line"><span class="lineno">  238</span>        pos = backupDest.find(fullBackupSubStr)</div>
<div class="line"><span class="lineno">  239</span> </div>
<div class="line"><span class="lineno">  240</span>        <span class="keywordflow">if</span> pos &gt; 0:</div>
<div class="line"><span class="lineno">  241</span>            <span class="comment">#Extract the full backup number</span></div>
<div class="line"><span class="lineno">  242</span>            tmpStr = backupDest[pos+1:]</div>
<div class="line"><span class="lineno">  243</span>            elems = tmpStr.split(<span class="stringliteral">&quot;_&quot;</span>)</div>
<div class="line"><span class="lineno">  244</span>            <span class="keywordflow">try</span>:</div>
<div class="line"><span class="lineno">  245</span> </div>
<div class="line"><span class="lineno">  246</span>                fullNum = int(elems[1])</div>
<div class="line"><span class="lineno">  247</span> </div>
<div class="line"><span class="lineno">  248</span>            <span class="keywordflow">except</span> ValueError:</div>
<div class="line"><span class="lineno">  249</span>                <span class="keywordflow">raise</span> BackupError(<span class="stringliteral">&quot;Failed to extract the full backup number from {}&quot;</span>.format(backupDest) )</div>
<div class="line"><span class="lineno">  250</span> </div>
<div class="line"><span class="lineno">  251</span>        <span class="keywordflow">return</span> fullNum</div>
<div class="line"><span class="lineno">  252</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a1cae5eec67b44edc3d729a42d620a45c" name="a1cae5eec67b44edc3d729a42d620a45c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1cae5eec67b44edc3d729a42d620a45c">&#9670;&#160;</a></span>_getFullBackupPath()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">_getFullBackupPath </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>backupPath</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<pre class="fragment">@brief Get the full backup path associated with this backup path.
   @param backupPath Could hold a full or incremental backup path.
          Incremental backup paths contain the name of the associated
          full backup path with the incremental backup ID added
   @return The Full backup path</pre> 
<p class="definition">Definition at line <a class="el" href="backup_8py_source.html#l00537">537</a> of file <a class="el" href="backup_8py_source.html">backup.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  537</span>    <span class="keyword">def </span>_getFullBackupPath(self, backupPath):</div>
<div class="line"><span class="lineno">  538</span>        <span class="stringliteral">&quot;&quot;&quot;@brief Get the full backup path associated with this backup path.</span></div>
<div class="line"><span class="lineno">  539</span><span class="stringliteral">           @param backupPath Could hold a full or incremental backup path.</span></div>
<div class="line"><span class="lineno">  540</span><span class="stringliteral">                  Incremental backup paths contain the name of the associated</span></div>
<div class="line"><span class="lineno">  541</span><span class="stringliteral">                  full backup path with the incremental backup ID added</span></div>
<div class="line"><span class="lineno">  542</span><span class="stringliteral">           @return The Full backup path&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  543</span> </div>
<div class="line"><span class="lineno">  544</span>        <span class="comment">#If backupPath is a full backup path</span></div>
<div class="line"><span class="lineno">  545</span>        fullBackupIDPos = backupPath.find(<span class="stringliteral">&quot;.{}_&quot;</span>.format(Backup.FULL_BACKUP_DIR_TEXT) )</div>
<div class="line"><span class="lineno">  546</span> </div>
<div class="line"><span class="lineno">  547</span>        <span class="keywordflow">if</span> fullBackupIDPos != -1 <span class="keywordflow">and</span> backupPath.find(<span class="stringliteral">&quot;_{}_&quot;</span>.format(Backup.INCREMENTAL_BACKUP_DIR_TEXT)) == -1:</div>
<div class="line"><span class="lineno">  548</span>            <span class="keywordflow">return</span> backupPath</div>
<div class="line"><span class="lineno">  549</span> </div>
<div class="line"><span class="lineno">  550</span>        <span class="comment">#Extract the full backup ID</span></div>
<div class="line"><span class="lineno">  551</span>        <span class="keywordflow">if</span> fullBackupIDPos &gt; 0:</div>
<div class="line"><span class="lineno">  552</span>            elems = backupPath[fullBackupIDPos:].split(<span class="stringliteral">&quot;_&quot;</span>)</div>
<div class="line"><span class="lineno">  553</span>            fullBackupIDStr = elems[1]</div>
<div class="line"><span class="lineno">  554</span>            <span class="keywordflow">try</span>:</div>
<div class="line"><span class="lineno">  555</span>                fullBackupID = int(fullBackupIDStr)</div>
<div class="line"><span class="lineno">  556</span>            <span class="keywordflow">except</span>:</div>
<div class="line"><span class="lineno">  557</span>                <span class="keywordflow">raise</span> BackupError(<span class="stringliteral">&quot;{} is not a valid full backup ID extracted from {}&quot;</span>.format(fullBackupIDStr, backupPath) )</div>
<div class="line"><span class="lineno">  558</span> </div>
<div class="line"><span class="lineno">  559</span>            entryList = os.listdir(self._options.dest)</div>
<div class="line"><span class="lineno">  560</span>            <span class="keywordflow">for</span> entry <span class="keywordflow">in</span> entryList:</div>
<div class="line"><span class="lineno">  561</span>                <span class="keywordflow">if</span> entry.endswith(<span class="stringliteral">&quot;{}_{}&quot;</span>.format(Backup.FULL_BACKUP_DIR_TEXT, fullBackupID) ):</div>
<div class="line"><span class="lineno">  562</span>                    <span class="keywordflow">return</span> os.path.join(self._options.dest, entry)</div>
<div class="line"><span class="lineno">  563</span> </div>
<div class="line"><span class="lineno">  564</span>        <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno">  565</span>            <span class="keywordflow">raise</span> BackupError(<span class="stringliteral">&quot;{} is not a valid backup path&quot;</span>.format(backupPath) )</div>
<div class="line"><span class="lineno">  566</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="aadce423b0c91b61879fb9f810f67a605" name="aadce423b0c91b61879fb9f810f67a605"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aadce423b0c91b61879fb9f810f67a605">&#9670;&#160;</a></span>_getIncBackupList()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">_getIncBackupList </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>fullBackupID</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<pre class="fragment">@brief Get incremental backup list for the given full backup ID
   @param fullBackupID The fuill backup ID
   @return A list of incremental backups against the given full backup</pre> 
<p class="definition">Definition at line <a class="el" href="backup_8py_source.html#l00281">281</a> of file <a class="el" href="backup_8py_source.html">backup.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  281</span>    <span class="keyword">def </span>_getIncBackupList(self, fullBackupID):</div>
<div class="line"><span class="lineno">  282</span>        <span class="stringliteral">&quot;&quot;&quot;@brief Get incremental backup list for the given full backup ID</span></div>
<div class="line"><span class="lineno">  283</span><span class="stringliteral">           @param fullBackupID The fuill backup ID</span></div>
<div class="line"><span class="lineno">  284</span><span class="stringliteral">           @return A list of incremental backups against the given full backup&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  285</span> </div>
<div class="line"><span class="lineno">  286</span>        incrBackupList = []</div>
<div class="line"><span class="lineno">  287</span> </div>
<div class="line"><span class="lineno">  288</span>        entryList = os.listdir(self._options.dest)</div>
<div class="line"><span class="lineno">  289</span> </div>
<div class="line"><span class="lineno">  290</span>        <span class="keywordflow">for</span> entry <span class="keywordflow">in</span> entryList:</div>
<div class="line"><span class="lineno">  291</span> </div>
<div class="line"><span class="lineno">  292</span>            <span class="comment">#If this is the correct full backup and we have found an incremental backup</span></div>
<div class="line"><span class="lineno">  293</span>            <span class="keywordflow">if</span> entry.find(<span class="stringliteral">&quot;.{}_{}&quot;</span>.format(Backup.FULL_BACKUP_DIR_TEXT, fullBackupID)) != -1 <span class="keywordflow">and</span> entry.find(Backup.INCREMENTAL_BACKUP_DIR_TEXT) != -1:</div>
<div class="line"><span class="lineno">  294</span>                incrBackupList.append(entry)</div>
<div class="line"><span class="lineno">  295</span> </div>
<div class="line"><span class="lineno">  296</span>        <span class="keywordflow">return</span> incrBackupList</div>
<div class="line"><span class="lineno">  297</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a209bf4d732082b41ab4764f6677bb4fa" name="a209bf4d732082b41ab4764f6677bb4fa"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a209bf4d732082b41ab4764f6677bb4fa">&#9670;&#160;</a></span>_getIncrBackupDest()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">_getIncrBackupDest </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>fullBackupID</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>incrBackupID</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<pre class="fragment">@brief get the full backup destination path</pre> 
<p class="definition">Definition at line <a class="el" href="backup_8py_source.html#l00354">354</a> of file <a class="el" href="backup_8py_source.html">backup.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  354</span>    <span class="keyword">def </span>_getIncrBackupDest(self, fullBackupID, incrBackupID):</div>
<div class="line"><span class="lineno">  355</span>        <span class="stringliteral">&quot;&quot;&quot;@brief get the full backup destination path&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  356</span>        timeStamp = time.strftime(<span class="stringliteral">&quot;%Y-%b-%d_%H_%M_%S&quot;</span>, time.gmtime())</div>
<div class="line"><span class="lineno">  357</span>        backupDest = os.path.join(self._options.dest, <span class="stringliteral">&quot;{}.{}_{}_{}_{}&quot;</span>.format(timeStamp, Backup.FULL_BACKUP_DIR_TEXT, fullBackupID, Backup.INCREMENTAL_BACKUP_DIR_TEXT, incrBackupID) )</div>
<div class="line"><span class="lineno">  358</span>        <span class="keywordflow">return</span> backupDest</div>
<div class="line"><span class="lineno">  359</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="ab420f469c74504897fef0883b9ee8494" name="ab420f469c74504897fef0883b9ee8494"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab420f469c74504897fef0883b9ee8494">&#9670;&#160;</a></span>_getIncrBackupID()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">_getIncrBackupID </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>backupDest</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<pre class="fragment">@brief Given a backup dir name, extract the incremental backup ID
   @return The incremental backup ID or -1 if not found</pre> 
<p class="definition">Definition at line <a class="el" href="backup_8py_source.html#l00298">298</a> of file <a class="el" href="backup_8py_source.html">backup.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  298</span>    <span class="keyword">def </span>_getIncrBackupID(self, backupDest):</div>
<div class="line"><span class="lineno">  299</span>        <span class="stringliteral">&quot;&quot;&quot;@brief Given a backup dir name, extract the incremental backup ID</span></div>
<div class="line"><span class="lineno">  300</span><span class="stringliteral">           @return The incremental backup ID or -1 if not found&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  301</span>        incrNum = -1</div>
<div class="line"><span class="lineno">  302</span> </div>
<div class="line"><span class="lineno">  303</span>        <span class="comment">#If this incremental backup completed</span></div>
<div class="line"><span class="lineno">  304</span>        <span class="keywordflow">if</span> backupDest.find(Backup.INCOMPLETE_BACKUP_SUFFIX) == -1:</div>
<div class="line"><span class="lineno">  305</span>            incrBackupSubStr = <span class="stringliteral">&quot;_{}&quot;</span>.format(Backup.INCREMENTAL_BACKUP_DIR_TEXT)</div>
<div class="line"><span class="lineno">  306</span> </div>
<div class="line"><span class="lineno">  307</span>            pos = backupDest.find(incrBackupSubStr)</div>
<div class="line"><span class="lineno">  308</span> </div>
<div class="line"><span class="lineno">  309</span>            <span class="keywordflow">if</span> pos &gt; 0:</div>
<div class="line"><span class="lineno">  310</span>                <span class="comment">#Extract the incremental backup number</span></div>
<div class="line"><span class="lineno">  311</span>                tmpStr = backupDest[pos+1:]</div>
<div class="line"><span class="lineno">  312</span>                elems = tmpStr.split(<span class="stringliteral">&quot;_&quot;</span>)</div>
<div class="line"><span class="lineno">  313</span>                <span class="keywordflow">try</span>:</div>
<div class="line"><span class="lineno">  314</span> </div>
<div class="line"><span class="lineno">  315</span>                    incrNum = int(elems[1])</div>
<div class="line"><span class="lineno">  316</span> </div>
<div class="line"><span class="lineno">  317</span>                <span class="keywordflow">except</span> ValueError:</div>
<div class="line"><span class="lineno">  318</span>                    <span class="keywordflow">raise</span> BackupError(<span class="stringliteral">&quot;Failed to extract the incremental backup number from {}&quot;</span>.format(backupDest) )</div>
<div class="line"><span class="lineno">  319</span> </div>
<div class="line"><span class="lineno">  320</span>        <span class="keywordflow">return</span> incrNum</div>
<div class="line"><span class="lineno">  321</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="abd8f2b5dfa394cff26d11499da9607b8" name="abd8f2b5dfa394cff26d11499da9607b8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abd8f2b5dfa394cff26d11499da9607b8">&#9670;&#160;</a></span>_getLastBackupPath()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">_getLastBackupPath </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>backupDest</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<pre class="fragment">@brief Get the path of the last backup</pre> 
<p class="definition">Definition at line <a class="el" href="backup_8py_source.html#l00567">567</a> of file <a class="el" href="backup_8py_source.html">backup.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  567</span>    <span class="keyword">def </span>_getLastBackupPath(self, backupDest):</div>
<div class="line"><span class="lineno">  568</span>        <span class="stringliteral">&quot;&quot;&quot;@brief Get the path of the last backup&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  569</span> </div>
<div class="line"><span class="lineno">  570</span>        <span class="comment">#Get the full backup path associated with this backup</span></div>
<div class="line"><span class="lineno">  571</span>        lastFullBackup = self._getFullBackupPath(backupDest)</div>
<div class="line"><span class="lineno">  572</span> </div>
<div class="line"><span class="lineno">  573</span>        <span class="comment">#Check if the last backup we had was a full backup</span></div>
<div class="line"><span class="lineno">  574</span>        pos = backupDest.find(<span class="stringliteral">&quot;_{}_&quot;</span>.format(Backup.INCREMENTAL_BACKUP_DIR_TEXT) )</div>
<div class="line"><span class="lineno">  575</span> </div>
<div class="line"><span class="lineno">  576</span>        <span class="keywordflow">if</span> pos == -1:</div>
<div class="line"><span class="lineno">  577</span> </div>
<div class="line"><span class="lineno">  578</span>            <span class="comment">#If this is a full backup path</span></div>
<div class="line"><span class="lineno">  579</span>            <span class="keywordflow">if</span> backupDest.find(<span class="stringliteral">&quot;.{}_&quot;</span>.format(Backup.FULL_BACKUP_DIR_TEXT) ) != -1:</div>
<div class="line"><span class="lineno">  580</span> </div>
<div class="line"><span class="lineno">  581</span>                <span class="comment">#If so then return this backup</span></div>
<div class="line"><span class="lineno">  582</span>                <span class="keywordflow">return</span> lastFullBackup</div>
<div class="line"><span class="lineno">  583</span> </div>
<div class="line"><span class="lineno">  584</span>            <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno">  585</span> </div>
<div class="line"><span class="lineno">  586</span>                <span class="keywordflow">raise</span> BackupError(<span class="stringliteral">&quot;{} is not a full or incremental backup path ???&quot;</span>.format(backupDest) )</div>
<div class="line"><span class="lineno">  587</span> </div>
<div class="line"><span class="lineno">  588</span>        <span class="comment">#Extract the incremental backup number</span></div>
<div class="line"><span class="lineno">  589</span>        incNumStr = backupDest[pos+6:]</div>
<div class="line"><span class="lineno">  590</span>        incNumStr.rstrip(<span class="stringliteral">&quot;\r&quot;</span>)</div>
<div class="line"><span class="lineno">  591</span>        incNumStr.rstrip(<span class="stringliteral">&quot;\n&quot;</span>)</div>
<div class="line"><span class="lineno">  592</span>        <span class="keywordflow">try</span>:</div>
<div class="line"><span class="lineno">  593</span> </div>
<div class="line"><span class="lineno">  594</span>            incNum = int(incNumStr)</div>
<div class="line"><span class="lineno">  595</span> </div>
<div class="line"><span class="lineno">  596</span>        <span class="keywordflow">except</span> ValueError:</div>
<div class="line"><span class="lineno">  597</span>            <span class="keywordflow">raise</span> BackupError(<span class="stringliteral">&quot;Failed to extract the incremental backup number from {}&quot;</span>.format(backupDest) )</div>
<div class="line"><span class="lineno">  598</span> </div>
<div class="line"><span class="lineno">  599</span>        <span class="keywordflow">if</span> incNum &gt; 0:</div>
<div class="line"><span class="lineno">  600</span>            incNum = incNum -1</div>
<div class="line"><span class="lineno">  601</span> </div>
<div class="line"><span class="lineno">  602</span>        <span class="comment">#Search for this incremental backup</span></div>
<div class="line"><span class="lineno">  603</span>        lastBackupPath = <span class="keywordtype">None</span></div>
<div class="line"><span class="lineno">  604</span>        entryList = os.listdir(self._options.dest)</div>
<div class="line"><span class="lineno">  605</span>        <span class="keywordflow">for</span> entry <span class="keywordflow">in</span> entryList:</div>
<div class="line"><span class="lineno">  606</span>            <span class="keywordflow">if</span> entry.endswith(<span class="stringliteral">&quot;_{}_{}&quot;</span>.format(Backup.INCREMENTAL_BACKUP_DIR_TEXT, incNum)):</div>
<div class="line"><span class="lineno">  607</span>                lastBackupPath = entry</div>
<div class="line"><span class="lineno">  608</span>                <span class="keywordflow">break</span></div>
<div class="line"><span class="lineno">  609</span> </div>
<div class="line"><span class="lineno">  610</span>        <span class="comment">#If we found the incremental backup</span></div>
<div class="line"><span class="lineno">  611</span>        <span class="keywordflow">if</span> lastBackupPath:</div>
<div class="line"><span class="lineno">  612</span>            <span class="comment">#Build full backup path</span></div>
<div class="line"><span class="lineno">  613</span>            lastBackupPath = os.path.join(self._options.dest, lastBackupPath)</div>
<div class="line"><span class="lineno">  614</span>        <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno">  615</span>            <span class="comment">#Use last full backup</span></div>
<div class="line"><span class="lineno">  616</span>            lastBackupPath = lastFullBackup</div>
<div class="line"><span class="lineno">  617</span> </div>
<div class="line"><span class="lineno">  618</span>        <span class="keywordflow">return</span> lastBackupPath</div>
<div class="line"><span class="lineno">  619</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="afaaf602f29a84191055da148099caf08" name="afaaf602f29a84191055da148099caf08"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afaaf602f29a84191055da148099caf08">&#9670;&#160;</a></span>_getLastFullBackup()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">_getLastFullBackup </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<pre class="fragment">@brief Get the last full backup from the destination directory.
   @return The last full backup directory name or an empty string if no backup is present.</pre> 
<p class="definition">Definition at line <a class="el" href="backup_8py_source.html#l00253">253</a> of file <a class="el" href="backup_8py_source.html">backup.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  253</span>    <span class="keyword">def </span>_getLastFullBackup(self):</div>
<div class="line"><span class="lineno">  254</span>        <span class="stringliteral">&quot;&quot;&quot;@brief Get the last full backup from the destination directory.</span></div>
<div class="line"><span class="lineno">  255</span><span class="stringliteral">           @return The last full backup directory name or an empty string if no backup is present.&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  256</span> </div>
<div class="line"><span class="lineno">  257</span>        backup=<span class="stringliteral">&quot;&quot;</span></div>
<div class="line"><span class="lineno">  258</span>        fullBackupID = -1</div>
<div class="line"><span class="lineno">  259</span> </div>
<div class="line"><span class="lineno">  260</span>        <span class="comment">#Check for the latest backup</span></div>
<div class="line"><span class="lineno">  261</span>        entryList = os.listdir(self._options.dest)</div>
<div class="line"><span class="lineno">  262</span> </div>
<div class="line"><span class="lineno">  263</span>        <span class="keywordflow">for</span> entry <span class="keywordflow">in</span> entryList:</div>
<div class="line"><span class="lineno">  264</span>            <span class="comment">#Get the last full complete backup</span></div>
<div class="line"><span class="lineno">  265</span>            <span class="keywordflow">if</span> entry.find(<span class="stringliteral">&quot;.{}&quot;</span>.format(Backup.FULL_BACKUP_DIR_TEXT) ) != -1 <span class="keywordflow">and</span> entry.find(Backup.INCOMPLETE_BACKUP_SUFFIX) == -1:</div>
<div class="line"><span class="lineno">  266</span> </div>
<div class="line"><span class="lineno">  267</span>                thisFullBackupID = self._getFullBackupID(entry)</div>
<div class="line"><span class="lineno">  268</span> </div>
<div class="line"><span class="lineno">  269</span>                <span class="keywordflow">if</span> fullBackupID == -1:</div>
<div class="line"><span class="lineno">  270</span> </div>
<div class="line"><span class="lineno">  271</span>                    fullBackupID = thisFullBackupID</div>
<div class="line"><span class="lineno">  272</span>                    backup = entry</div>
<div class="line"><span class="lineno">  273</span> </div>
<div class="line"><span class="lineno">  274</span>                <span class="keywordflow">elif</span> fullBackupID &lt; thisFullBackupID:</div>
<div class="line"><span class="lineno">  275</span> </div>
<div class="line"><span class="lineno">  276</span>                    fullBackupID = thisFullBackupID</div>
<div class="line"><span class="lineno">  277</span>                    backup = entry</div>
<div class="line"><span class="lineno">  278</span> </div>
<div class="line"><span class="lineno">  279</span>        <span class="keywordflow">return</span> backup</div>
<div class="line"><span class="lineno">  280</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="aa12705d4491e5223907fae7a5dc0652d" name="aa12705d4491e5223907fae7a5dc0652d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa12705d4491e5223907fae7a5dc0652d">&#9670;&#160;</a></span>_getLastIncrBackup()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">_getLastIncrBackup </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>fullBackupID</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<pre class="fragment">@brief get the last incremental backup with the given full backup ID
   @param fullBackupID The full backup ID
   @return The last incremental backup ID for the given full backup or an empty string if not found</pre> 
<p class="definition">Definition at line <a class="el" href="backup_8py_source.html#l00322">322</a> of file <a class="el" href="backup_8py_source.html">backup.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  322</span>    <span class="keyword">def </span>_getLastIncrBackup(self, fullBackupID):</div>
<div class="line"><span class="lineno">  323</span>        <span class="stringliteral">&quot;&quot;&quot;@brief get the last incremental backup with the given full backup ID</span></div>
<div class="line"><span class="lineno">  324</span><span class="stringliteral">           @param fullBackupID The full backup ID</span></div>
<div class="line"><span class="lineno">  325</span><span class="stringliteral">           @return The last incremental backup ID for the given full backup or an empty string if not found&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  326</span> </div>
<div class="line"><span class="lineno">  327</span>        incrBackupList = self._getIncBackupList(fullBackupID)</div>
<div class="line"><span class="lineno">  328</span> </div>
<div class="line"><span class="lineno">  329</span>        backup=<span class="stringliteral">&quot;&quot;</span></div>
<div class="line"><span class="lineno">  330</span>        incrBackupID = -1</div>
<div class="line"><span class="lineno">  331</span> </div>
<div class="line"><span class="lineno">  332</span>        <span class="comment">#Check for the latest backup</span></div>
<div class="line"><span class="lineno">  333</span>        <span class="keywordflow">for</span> entry <span class="keywordflow">in</span> incrBackupList:</div>
<div class="line"><span class="lineno">  334</span> </div>
<div class="line"><span class="lineno">  335</span>            thisIncrBackupID = self._getIncrBackupID(entry)</div>
<div class="line"><span class="lineno">  336</span>            <span class="keywordflow">if</span> incrBackupID == -1:</div>
<div class="line"><span class="lineno">  337</span> </div>
<div class="line"><span class="lineno">  338</span>                incrBackupID = thisIncrBackupID</div>
<div class="line"><span class="lineno">  339</span>                backup = entry</div>
<div class="line"><span class="lineno">  340</span> </div>
<div class="line"><span class="lineno">  341</span>            <span class="keywordflow">elif</span> thisIncrBackupID &gt; incrBackupID:</div>
<div class="line"><span class="lineno">  342</span> </div>
<div class="line"><span class="lineno">  343</span>                incrBackupID = thisIncrBackupID</div>
<div class="line"><span class="lineno">  344</span>                backup = entry</div>
<div class="line"><span class="lineno">  345</span> </div>
<div class="line"><span class="lineno">  346</span>        <span class="keywordflow">return</span> backup</div>
<div class="line"><span class="lineno">  347</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="ac5db7310c91460b1f04e48cc45002581" name="ac5db7310c91460b1f04e48cc45002581"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac5db7310c91460b1f04e48cc45002581">&#9670;&#160;</a></span>_getSrc()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">_getSrc </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<pre class="fragment">@brief Get the backup src string.
   @return A tuple containing the backup source string followed by the sshPort (None if ssh not being used)</pre> 
<p class="definition">Definition at line <a class="el" href="backup_8py_source.html#l00620">620</a> of file <a class="el" href="backup_8py_source.html">backup.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  620</span>    <span class="keyword">def </span>_getSrc(self):</div>
<div class="line"><span class="lineno">  621</span>        <span class="stringliteral">&quot;&quot;&quot;@brief Get the backup src string.</span></div>
<div class="line"><span class="lineno">  622</span><span class="stringliteral">           @return A tuple containing the backup source string followed by the sshPort (None if ssh not being used)&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  623</span> </div>
<div class="line"><span class="lineno">  624</span>        backupSrc = self._options.src</div>
<div class="line"><span class="lineno">  625</span> </div>
<div class="line"><span class="lineno">  626</span>        sshPort = <span class="keywordtype">None</span></div>
<div class="line"><span class="lineno">  627</span> </div>
<div class="line"><span class="lineno">  628</span>        <span class="keywordflow">if</span> self._options.ssh:</div>
<div class="line"><span class="lineno">  629</span> </div>
<div class="line"><span class="lineno">  630</span>            <span class="comment">#Build src string from user input</span></div>
<div class="line"><span class="lineno">  631</span>            hostName = self._options.ssh</div>
<div class="line"><span class="lineno">  632</span> </div>
<div class="line"><span class="lineno">  633</span>            username=getpass.getuser()</div>
<div class="line"><span class="lineno">  634</span> </div>
<div class="line"><span class="lineno">  635</span>            <span class="comment">#Get the username if supplied by the user</span></div>
<div class="line"><span class="lineno">  636</span>            elems = hostName.split(<span class="stringliteral">&quot;@&quot;</span>)</div>
<div class="line"><span class="lineno">  637</span> </div>
<div class="line"><span class="lineno">  638</span>            <span class="keywordflow">if</span> len(elems) == 2:</div>
<div class="line"><span class="lineno">  639</span>                username = elems[0]</div>
<div class="line"><span class="lineno">  640</span>                hostName=hostName[len(username)+1:]</div>
<div class="line"><span class="lineno">  641</span> </div>
<div class="line"><span class="lineno">  642</span>            elems = hostName.split(<span class="stringliteral">&quot;:&quot;</span>)</div>
<div class="line"><span class="lineno">  643</span>            <span class="keywordflow">if</span> len(elems) == 2:</div>
<div class="line"><span class="lineno">  644</span>                sshPort = int(elems[1])</div>
<div class="line"><span class="lineno">  645</span>                hostName = elems[0]</div>
<div class="line"><span class="lineno">  646</span> </div>
<div class="line"><span class="lineno">  647</span>            <span class="keywordflow">elif</span> len(elems) == 1:</div>
<div class="line"><span class="lineno">  648</span>                hostName = elems[0]</div>
<div class="line"><span class="lineno">  649</span> </div>
<div class="line"><span class="lineno">  650</span>            <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno">  651</span>                <span class="keywordflow">raise</span> BackupError(<span class="stringliteral">&quot;{} is an invalid ssh server (E.G server or username@server or username@server:22)&quot;</span>.format(hostName))</div>
<div class="line"><span class="lineno">  652</span> </div>
<div class="line"><span class="lineno">  653</span>            backupSrc = <span class="stringliteral">&quot;{}@{}:{}&quot;</span>.format(username, hostName, self._options.src)</div>
<div class="line"><span class="lineno">  654</span> </div>
<div class="line"><span class="lineno">  655</span>        <span class="keywordflow">if</span> backupSrc <span class="keywordflow">is</span> <span class="keywordtype">None</span>:</div>
<div class="line"><span class="lineno">  656</span>            backupSrc = <span class="stringliteral">&#39;&#39;</span></div>
<div class="line"><span class="lineno">  657</span> </div>
<div class="line"><span class="lineno">  658</span>        <span class="keywordflow">return</span> (backupSrc, sshPort)</div>
<div class="line"><span class="lineno">  659</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a708a3b62ae21b214a7149c863b094fe0" name="a708a3b62ae21b214a7149c863b094fe0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a708a3b62ae21b214a7149c863b094fe0">&#9670;&#160;</a></span>_loadConfig()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">_loadConfig </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<pre class="fragment">@brief Load the command line options saved previously to a config file</pre> 
<p class="definition">Definition at line <a class="el" href="backup_8py_source.html#l00824">824</a> of file <a class="el" href="backup_8py_source.html">backup.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  824</span>    <span class="keyword">def </span>_loadConfig(self):</div>
<div class="line"><span class="lineno">  825</span>        <span class="stringliteral">&quot;&quot;&quot;@brief Load the command line options saved previously to a config file&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  826</span>        <span class="keywordflow">if</span> self._options.load_config:</div>
<div class="line"><span class="lineno">  827</span>            self._options = pickle.load( open(self._options.load_config, <span class="stringliteral">&quot;rb&quot;</span>) )</div>
<div class="line"><span class="lineno">  828</span>            self._uo.info(<span class="stringliteral">&quot;Loaded command line options from {}&quot;</span>.format(self._options.load_config) )</div>
<div class="line"><span class="lineno">  829</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a61c082a879394791e8fb03d738f3c84c" name="a61c082a879394791e8fb03d738f3c84c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a61c082a879394791e8fb03d738f3c84c">&#9670;&#160;</a></span>_notifyEmail()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">_notifyEmail </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>subjectMessage</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>body</em> = <code>&quot;&quot;</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<pre class="fragment">@brief Responsible for notifying the user of the backup progress via email
   @param subject The subject line of the notification email
   @param body The body text of the notification email</pre> 
<p class="definition">Definition at line <a class="el" href="backup_8py_source.html#l00220">220</a> of file <a class="el" href="backup_8py_source.html">backup.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  220</span>    <span class="keyword">def </span>_notifyEmail(self, subjectMessage, body=&quot;&quot;):</div>
<div class="line"><span class="lineno">  221</span>        <span class="stringliteral">&quot;&quot;&quot;@brief Responsible for notifying the user of the backup progress via email</span></div>
<div class="line"><span class="lineno">  222</span><span class="stringliteral">           @param subject The subject line of the notification email</span></div>
<div class="line"><span class="lineno">  223</span><span class="stringliteral">           @param body The body text of the notification email&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  224</span>        <span class="keywordflow">if</span> self._options.email_list:</div>
<div class="line"><span class="lineno">  225</span>            backupSrc, _ = self._getSrc()</div>
<div class="line"><span class="lineno">  226</span>            subject = <span class="stringliteral">&quot;{}: &#39;{}&#39; {}&quot;</span>.format(socket.gethostname(), backupSrc , subjectMessage)</div>
<div class="line"><span class="lineno">  227</span>            <span class="keywordflow">if</span> self._options.email_server:</div>
<div class="line"><span class="lineno">  228</span>                toList = self._options.email_list.split(<span class="stringliteral">&quot;,&quot;</span>)</div>
<div class="line"><span class="lineno">  229</span>                self._sendMail( self._options.email_server, self._options.email_username, self._options.email_password, toList, subject, body)</div>
<div class="line"><span class="lineno">  230</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a8c1f0255f55e88562a2caeee08d06561" name="a8c1f0255f55e88562a2caeee08d06561"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8c1f0255f55e88562a2caeee08d06561">&#9670;&#160;</a></span>_purgeBackups()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">_purgeBackups </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<pre class="fragment">@brief A maximum number of full backups is defined. This ensure that we don't keep
          more backups than are required. The oldest backups are removed to ensure this.</pre> 
<p class="definition">Definition at line <a class="el" href="backup_8py_source.html#l00504">504</a> of file <a class="el" href="backup_8py_source.html">backup.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  504</span>    <span class="keyword">def </span>_purgeBackups(self):</div>
<div class="line"><span class="lineno">  505</span>        <span class="stringliteral">&quot;&quot;&quot;@brief A maximum number of full backups is defined. This ensure that we don&#39;t keep</span></div>
<div class="line"><span class="lineno">  506</span><span class="stringliteral">                  more backups than are required. The oldest backups are removed to ensure this.&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  507</span> </div>
<div class="line"><span class="lineno">  508</span>        <span class="comment">#Delete the old backup log file if it exists</span></div>
<div class="line"><span class="lineno">  509</span>        oldBackupLogFile = self._getBackupSizeLogFile()</div>
<div class="line"><span class="lineno">  510</span>        <span class="keywordflow">if</span> os.path.isfile(oldBackupLogFile):</div>
<div class="line"><span class="lineno">  511</span>            os.remove(oldBackupLogFile)</div>
<div class="line"><span class="lineno">  512</span> </div>
<div class="line"><span class="lineno">  513</span>        backupList = self._getBackupList()</div>
<div class="line"><span class="lineno">  514</span>        fullBackupID = self._getFullBackupID(backupList[0])</div>
<div class="line"><span class="lineno">  515</span> </div>
<div class="line"><span class="lineno">  516</span>        <span class="keywordflow">if</span> self._getFullBackupCount()  &gt; self._options.max_full:</div>
<div class="line"><span class="lineno">  517</span>            self._uo.info(<span class="stringliteral">&quot;Purging old backups.&quot;</span>)</div>
<div class="line"><span class="lineno">  518</span> </div>
<div class="line"><span class="lineno">  519</span>        <span class="keywordflow">while</span> self._getFullBackupCount()  &gt; self._options.max_full:</div>
<div class="line"><span class="lineno">  520</span> </div>
<div class="line"><span class="lineno">  521</span>            arg = os.path.join(self._options.dest, <span class="stringliteral">&quot;*.FULL_{}&quot;</span>.format(fullBackupID))</div>
<div class="line"><span class="lineno">  522</span>            self._uo.info(<span class="stringliteral">&quot;Removing full backup {}. Please wait...&quot;</span>.format(fullBackupID))</div>
<div class="line"><span class="lineno">  523</span>            cmd = <span class="stringliteral">&quot;rm -rf {}&quot;</span>.format(arg)</div>
<div class="line"><span class="lineno">  524</span>            cmdOutput = check_output(cmd, shell=<span class="keyword">True</span>, stderr=STDOUT)</div>
<div class="line"><span class="lineno">  525</span>            <span class="keywordflow">if</span> cmdOutput <span class="keywordflow">is</span> <span class="keywordflow">not</span> <span class="keywordtype">None</span> <span class="keywordflow">and</span> len(cmdOutput):</div>
<div class="line"><span class="lineno">  526</span>                self._uo.info(cmdOutput.decode())</div>
<div class="line"><span class="lineno">  527</span> </div>
<div class="line"><span class="lineno">  528</span>            self._uo.info(<span class="stringliteral">&quot;Removing {} incremental backups. Please wait...&quot;</span>.format(fullBackupID))</div>
<div class="line"><span class="lineno">  529</span>            arg = os.path.join(self._options.dest, <span class="stringliteral">&quot;*.FULL_{}_*&quot;</span>.format(fullBackupID))</div>
<div class="line"><span class="lineno">  530</span>            cmd = <span class="stringliteral">&quot;rm -rf {}&quot;</span>.format(arg)</div>
<div class="line"><span class="lineno">  531</span>            cmdOutput = check_output(cmd, shell=<span class="keyword">True</span>, stderr=STDOUT)</div>
<div class="line"><span class="lineno">  532</span>            <span class="keywordflow">if</span> cmdOutput <span class="keywordflow">is</span> <span class="keywordflow">not</span> <span class="keywordtype">None</span> <span class="keywordflow">and</span> len(cmdOutput):</div>
<div class="line"><span class="lineno">  533</span>                self._uo.info(cmdOutput.decode())</div>
<div class="line"><span class="lineno">  534</span> </div>
<div class="line"><span class="lineno">  535</span>            fullBackupID = fullBackupID + 1</div>
<div class="line"><span class="lineno">  536</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a5e0a55771212ebe03e437ba437953c8f" name="a5e0a55771212ebe03e437ba437953c8f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5e0a55771212ebe03e437ba437953c8f">&#9670;&#160;</a></span>_runChecks()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">_runChecks </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<pre class="fragment">@brief Check that the rsync program is present on the local and remote (if remote ssh connection defined.</pre> 
<p class="definition">Definition at line <a class="el" href="backup_8py_source.html#l00830">830</a> of file <a class="el" href="backup_8py_source.html">backup.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  830</span>    <span class="keyword">def </span>_runChecks(self):</div>
<div class="line"><span class="lineno">  831</span>        <span class="stringliteral">&quot;&quot;&quot;@brief Check that the rsync program is present on the local and remote (if remote ssh connection defined.&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  832</span>        self._uo.info(<span class="stringliteral">&quot;Performing initial checks...&quot;</span>)</div>
<div class="line"><span class="lineno">  833</span> </div>
<div class="line"><span class="lineno">  834</span>        <span class="keywordflow">if</span> <span class="keywordflow">not</span> os.path.isfile(Backup.RSYNC_CMD):</div>
<div class="line"><span class="lineno">  835</span>            <span class="keywordflow">raise</span> Exception(<span class="stringliteral">&quot;{} file not found on the local machine. Please install rsync and try again.&quot;</span>.format(Backup.RSYNC_CMD))</div>
<div class="line"><span class="lineno">  836</span> </div>
<div class="line"><span class="lineno">  837</span>        self._uo.info(<span class="stringliteral">&quot;{} is installed locally.&quot;</span>.format(Backup.RSYNC_CMD))</div>
<div class="line"><span class="lineno">  838</span> </div>
<div class="line"><span class="lineno">  839</span>        <span class="comment">#If the backup source is on a remote machine.</span></div>
<div class="line"><span class="lineno">  840</span>        <span class="keywordflow">if</span> self._options.ssh:</div>
<div class="line"><span class="lineno">  841</span>            <span class="keywordflow">if</span> <span class="keywordflow">not</span> os.path.isfile(Backup.SSH_CMD):</div>
<div class="line"><span class="lineno">  842</span>                <span class="keywordflow">raise</span> Exception(<span class="stringliteral">&quot;{} file not found on the local machine. Please install ssh and try again.&quot;</span>.format(Backup.SSH_CMD))</div>
<div class="line"><span class="lineno">  843</span>            self._uo.info(<span class="stringliteral">&quot;{} is installed locally.&quot;</span>.format(Backup.SSH_CMD))</div>
<div class="line"><span class="lineno">  844</span>            <span class="keywordflow">try</span>:</div>
<div class="line"><span class="lineno">  845</span>                src, port = self._getSrc()</div>
<div class="line"><span class="lineno">  846</span>                self._uo.info(<span class="stringliteral">&quot;Checked ssh connection to remote source machine ({}).&quot;</span>.format(self._options.ssh))</div>
<div class="line"><span class="lineno">  847</span>            <span class="keywordflow">except</span>:</div>
<div class="line"><span class="lineno">  848</span>                <span class="keywordflow">raise</span> Exception(<span class="stringliteral">&quot;Failed to connect to {} ssh server.&quot;</span>.format(self._options.ssh))</div>
<div class="line"><span class="lineno">  849</span> </div>
<div class="line"><span class="lineno">  850</span>            <span class="keywordflow">try</span>:</div>
<div class="line"><span class="lineno">  851</span>                src, port = self._getSrc()</div>
<div class="line"><span class="lineno">  852</span>                self._uo.info(<span class="stringliteral">&quot;{} is installed on remote source machine ({}).&quot;</span>.format(Backup.RSYNC_CMD, self._options.ssh))</div>
<div class="line"><span class="lineno">  853</span> </div>
<div class="line"><span class="lineno">  854</span>            <span class="keywordflow">except</span>:</div>
<div class="line"><span class="lineno">  855</span>                <span class="keywordflow">raise</span> Exception(<span class="stringliteral">&quot;rsync is not installed on the ssh server ({}). Please install it and try again.&quot;</span>.format(self._options.ssh))</div>
<div class="line"><span class="lineno">  856</span> </div>
<div class="line"><span class="lineno">  857</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="aa72da7562efc99ad7ec5e348e05fdd27" name="aa72da7562efc99ad7ec5e348e05fdd27"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa72da7562efc99ad7ec5e348e05fdd27">&#9670;&#160;</a></span>_saveConfig()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">_saveConfig </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<pre class="fragment">@brief Save all the command line options to a config file</pre> 
<p class="definition">Definition at line <a class="el" href="backup_8py_source.html#l00818">818</a> of file <a class="el" href="backup_8py_source.html">backup.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  818</span>    <span class="keyword">def </span>_saveConfig(self):</div>
<div class="line"><span class="lineno">  819</span>        <span class="stringliteral">&quot;&quot;&quot;@brief Save all the command line options to a config file&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  820</span>        <span class="keywordflow">if</span> self._options.save_config:</div>
<div class="line"><span class="lineno">  821</span>            pickle.dump( self._options, open(self._options.save_config, <span class="stringliteral">&quot;wb&quot;</span>) )</div>
<div class="line"><span class="lineno">  822</span>            self._uo.info(<span class="stringliteral">&quot;Saved command line options to {}&quot;</span>.format(self._options.save_config) )</div>
<div class="line"><span class="lineno">  823</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="ab42772a7d1a68f7c3d532bf75c9e4227" name="ab42772a7d1a68f7c3d532bf75c9e4227"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab42772a7d1a68f7c3d532bf75c9e4227">&#9670;&#160;</a></span>_saveDiskUsage()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">_saveDiskUsage </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>backupDest</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>diskUsageBefore</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>diskUsageAfter</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>startTime</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<pre class="fragment">@brief Save the disk usage in the dest backup dir
   @param backupDest The backup destination
   @param diskUsageBefore The disk usage before the backup was started
   @param diskUsageAfter The disk usage after the backup was completed or failed
   @param startTime The start time of the backup in seconds
   @return None</pre> 
<p class="definition">Definition at line <a class="el" href="backup_8py_source.html#l00779">779</a> of file <a class="el" href="backup_8py_source.html">backup.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  779</span>    <span class="keyword">def </span>_saveDiskUsage(self, backupDest, diskUsageBefore, diskUsageAfter, startTime):</div>
<div class="line"><span class="lineno">  780</span>        <span class="stringliteral">&quot;&quot;&quot;@brief Save the disk usage in the dest backup dir</span></div>
<div class="line"><span class="lineno">  781</span><span class="stringliteral">           @param backupDest The backup destination</span></div>
<div class="line"><span class="lineno">  782</span><span class="stringliteral">           @param diskUsageBefore The disk usage before the backup was started</span></div>
<div class="line"><span class="lineno">  783</span><span class="stringliteral">           @param diskUsageAfter The disk usage after the backup was completed or failed</span></div>
<div class="line"><span class="lineno">  784</span><span class="stringliteral">           @param startTime The start time of the backup in seconds</span></div>
<div class="line"><span class="lineno">  785</span><span class="stringliteral">           @return None&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  786</span> </div>
<div class="line"><span class="lineno">  787</span>        thisBackupName = backupDest.split(<span class="stringliteral">&#39;/&#39;</span>).pop()</div>
<div class="line"><span class="lineno">  788</span> </div>
<div class="line"><span class="lineno">  789</span>        <span class="comment">#We calc the backup size as the drop in free space wheil the backup was running.</span></div>
<div class="line"><span class="lineno">  790</span>        <span class="comment">#Other processes could be using disk space while the backup is running but</span></div>
<div class="line"><span class="lineno">  791</span>        <span class="comment">#for the moment this is the assumption made.</span></div>
<div class="line"><span class="lineno">  792</span>        backupSizeGB = diskUsageBefore.getFreeGB()-diskUsageAfter.getFreeGB()</div>
<div class="line"><span class="lineno">  793</span>        timeStr = time.strftime(<span class="stringliteral">&quot;%H:%M:%S&quot;</span>, time.gmtime(time.time()-startTime) )</div>
<div class="line"><span class="lineno">  794</span>        backupDetails = <span class="stringliteral">&quot;Disk: Free {:.1f} GB, Used {:.1f} GB, Backup Size {:.1f} GB, Took {}&quot;</span>.format( diskUsageAfter.getFreeGB(), diskUsageAfter.getUsedGB(), backupSizeGB, timeStr)</div>
<div class="line"><span class="lineno">  795</span>        line = <span class="stringliteral">&quot;{}: {}&quot;</span>.format(thisBackupName, backupDetails)</div>
<div class="line"><span class="lineno">  796</span> </div>
<div class="line"><span class="lineno">  797</span>        backupSizeRecordLogFile = self._getBackupLogFile()</div>
<div class="line"><span class="lineno">  798</span>        <span class="keywordflow">if</span> os.path.isfile(backupSizeRecordLogFile):</div>
<div class="line"><span class="lineno">  799</span>            fd = open(backupSizeRecordLogFile, <span class="stringliteral">&#39;a&#39;</span>)</div>
<div class="line"><span class="lineno">  800</span>        <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno">  801</span>            fd = open(backupSizeRecordLogFile, <span class="stringliteral">&#39;w&#39;</span>)</div>
<div class="line"><span class="lineno">  802</span>        fd.write(<span class="stringliteral">&quot;{}\n&quot;</span>.format(line) )</div>
<div class="line"><span class="lineno">  803</span>        fd.close()</div>
<div class="line"><span class="lineno">  804</span>        self._uo.info(line)</div>
<div class="line"><span class="lineno">  805</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a7e067fd96ef50089e77fee3e1d2edcdb" name="a7e067fd96ef50089e77fee3e1d2edcdb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7e067fd96ef50089e77fee3e1d2edcdb">&#9670;&#160;</a></span>_sendMail()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">_sendMail </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>server</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>username</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>password</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>toList</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>subject</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>body</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<pre class="fragment">@brief Send an email via an SMTP server
   @param server The server name (E.G smtp.gmail.com). This string can include the
                 server port number if required (E.G smtp.gmail.com:587)
   @param username The username to be used in order to log into the SMTP server
   @param password The password to be used in order to log into the SMTP server
   @param toList   A List of email addresses to send the email to
   @param subject  The subject text line of the email
   @param body     The body text of the email
</pre> 
<p class="definition">Definition at line <a class="el" href="backup_8py_source.html#l00360">360</a> of file <a class="el" href="backup_8py_source.html">backup.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  360</span>    <span class="keyword">def </span>_sendMail(self, server, username, password, toList, subject, body):</div>
<div class="line"><span class="lineno">  361</span>        <span class="stringliteral">&quot;&quot;&quot;@brief Send an email via an SMTP server</span></div>
<div class="line"><span class="lineno">  362</span><span class="stringliteral">           @param server The server name (E.G smtp.gmail.com). This string can include the</span></div>
<div class="line"><span class="lineno">  363</span><span class="stringliteral">                         server port number if required (E.G smtp.gmail.com:587)</span></div>
<div class="line"><span class="lineno">  364</span><span class="stringliteral">           @param username The username to be used in order to log into the SMTP server</span></div>
<div class="line"><span class="lineno">  365</span><span class="stringliteral">           @param password The password to be used in order to log into the SMTP server</span></div>
<div class="line"><span class="lineno">  366</span><span class="stringliteral">           @param toList   A List of email addresses to send the email to</span></div>
<div class="line"><span class="lineno">  367</span><span class="stringliteral">           @param subject  The subject text line of the email</span></div>
<div class="line"><span class="lineno">  368</span><span class="stringliteral">           @param body     The body text of the email</span></div>
<div class="line"><span class="lineno">  369</span><span class="stringliteral">        &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  370</span>        <span class="keywordflow">if</span> username <span class="keywordflow">or</span> password:</div>
<div class="line"><span class="lineno">  371</span>            <span class="keywordflow">if</span> <span class="keywordflow">not</span> username:</div>
<div class="line"><span class="lineno">  372</span>                <span class="keywordflow">raise</span> Exception(<span class="stringliteral">&quot;You have define the email server password but not the username.&quot;</span>)</div>
<div class="line"><span class="lineno">  373</span>            <span class="keywordflow">if</span> <span class="keywordflow">not</span> password:</div>
<div class="line"><span class="lineno">  374</span>                <span class="keywordflow">raise</span> Exception(<span class="stringliteral">&quot;You have define the email server username but not the password.&quot;</span>)</div>
<div class="line"><span class="lineno">  375</span>            </div>
<div class="line"><span class="lineno">  376</span>        srcID = f<span class="stringliteral">&quot;{getpass.getuser()}@{socket.gethostname()}&quot;</span></div>
<div class="line"><span class="lineno">  377</span>        srcID = <span class="stringliteral">&quot;pausten.ge@gmail.com&quot;</span></div>
<div class="line"><span class="lineno">  378</span>        <span class="comment"># Prepare actual message</span></div>
<div class="line"><span class="lineno">  379</span>        message = <span class="stringliteral">&quot;&quot;&quot;From: {}\nTo: {}\nSubject: {}\n\n{}</span></div>
<div class="line"><span class="lineno">  380</span><span class="stringliteral">        &quot;&quot;&quot;</span>.format(srcID, <span class="stringliteral">&quot;, &quot;</span>.join(toList), subject, body)</div>
<div class="line"><span class="lineno">  381</span>        <span class="keywordflow">try</span>:</div>
<div class="line"><span class="lineno">  382</span>            port = 587</div>
<div class="line"><span class="lineno">  383</span>            <span class="keywordflow">if</span> server.find(<span class="stringliteral">&quot;:&quot;</span>) != -1:</div>
<div class="line"><span class="lineno">  384</span>                elems = server.split(<span class="stringliteral">&quot;:&quot;</span>)</div>
<div class="line"><span class="lineno">  385</span>                server = elems[0]</div>
<div class="line"><span class="lineno">  386</span>                port = int(elems[1])</div>
<div class="line"><span class="lineno">  387</span>            server = smtplib.SMTP(<span class="stringliteral">&quot;smtp.gmail.com&quot;</span>, port) <span class="comment">#or port 465 doesn&#39;t seem to work!</span></div>
<div class="line"><span class="lineno">  388</span>            server.ehlo()</div>
<div class="line"><span class="lineno">  389</span>            server.starttls()</div>
<div class="line"><span class="lineno">  390</span>            <span class="comment">#If we have a username and password, login to the email server</span></div>
<div class="line"><span class="lineno">  391</span>            <span class="keywordflow">if</span> username <span class="keywordflow">and</span> password:</div>
<div class="line"><span class="lineno">  392</span>                server.login(username, password)</div>
<div class="line"><span class="lineno">  393</span>            server.sendmail(username, toList, message)</div>
<div class="line"><span class="lineno">  394</span>            server.close()</div>
<div class="line"><span class="lineno">  395</span>            self._uo.info(<span class="stringliteral">&quot;SUBJECT: {}&quot;</span>.format( subject ) )</div>
<div class="line"><span class="lineno">  396</span>            self._uo.info(<span class="stringliteral">&quot;BODY:    {}&quot;</span>.format( body ) )</div>
<div class="line"><span class="lineno">  397</span>            self._uo.info(<span class="stringliteral">&quot;Sent email to {} as backup status notification&quot;</span>.format( str(toList) ) )</div>
<div class="line"><span class="lineno">  398</span>        <span class="keywordflow">except</span> Exception <span class="keyword">as</span> e:</div>
<div class="line"><span class="lineno">  399</span>            <span class="comment">#We dont throw an error here or any error send email notifications could</span></div>
<div class="line"><span class="lineno">  400</span>            <span class="comment">#break the backup process</span></div>
<div class="line"><span class="lineno">  401</span>            self._uo.error( e )</div>
<div class="line"><span class="lineno">  402</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a53c7e49e704028f4ab12031d58b807b0" name="a53c7e49e704028f4ab12031d58b807b0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a53c7e49e704028f4ab12031d58b807b0">&#9670;&#160;</a></span>execute()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">execute </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">@brief Called to execute the backup process</pre> 
<p class="definition">Definition at line <a class="el" href="backup_8py_source.html#l00858">858</a> of file <a class="el" href="backup_8py_source.html">backup.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  858</span>    <span class="keyword">def </span>execute(self):</div>
<div class="line"><span class="lineno">  859</span>        <span class="stringliteral">&quot;&quot;&quot;@brief Called to execute the backup process&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  860</span>        self._runChecks()</div>
<div class="line"><span class="lineno">  861</span> </div>
<div class="line"><span class="lineno">  862</span>        <span class="keywordflow">try</span>:</div>
<div class="line"><span class="lineno">  863</span> </div>
<div class="line"><span class="lineno">  864</span>           self._doBackup()</div>
<div class="line"><span class="lineno">  865</span> </div>
<div class="line"><span class="lineno">  866</span>           self._saveConfig()</div>
<div class="line"><span class="lineno">  867</span> </div>
<div class="line"><span class="lineno">  868</span>        <span class="keywordflow">except</span> Exception <span class="keyword">as</span> e:</div>
<div class="line"><span class="lineno">  869</span>            <span class="keywordflow">if</span> self._options.email_server:</div>
<div class="line"><span class="lineno">  870</span>                <span class="keywordflow">try</span>:</div>
<div class="line"><span class="lineno">  871</span>                    eTextList=[]</div>
<div class="line"><span class="lineno">  872</span>                    <span class="comment">#If we have some output from a check_output cmd</span></div>
<div class="line"><span class="lineno">  873</span>                    <span class="keywordflow">if</span> hasattr(e, <span class="stringliteral">&#39;output&#39;</span>):</div>
<div class="line"><span class="lineno">  874</span>                        <span class="comment">#Include this in the error text</span></div>
<div class="line"><span class="lineno">  875</span>                        eTextList.append(e.output)</div>
<div class="line"><span class="lineno">  876</span>                    eTextList.append( str(e) )</div>
<div class="line"><span class="lineno">  877</span>                    self._notifyEmail(<span class="stringliteral">&quot;Backup Failed&quot;</span>, body = <span class="stringliteral">&quot;{}\n\n\n{}&quot;</span>.format(<span class="stringliteral">&quot;\n&quot;</span>.join(eTextList), self._getBackupLog()) )</div>
<div class="line"><span class="lineno">  878</span>                <span class="keywordflow">except</span>:</div>
<div class="line"><span class="lineno">  879</span>                    <span class="keywordflow">pass</span></div>
<div class="line"><span class="lineno">  880</span> </div>
<div class="line"><span class="lineno">  881</span>            <span class="keywordflow">raise</span></div>
<div class="line"><span class="lineno">  882</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="ad53c608c91acc678f15b980264090753" name="ad53c608c91acc678f15b980264090753"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad53c608c91acc678f15b980264090753">&#9670;&#160;</a></span>renameBackup()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">renameBackup </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>fullBackupID</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">@brief Rename all backups to have a full backup ID one lower than their current full backup ID</pre> 
<p class="definition">Definition at line <a class="el" href="backup_8py_source.html#l00461">461</a> of file <a class="el" href="backup_8py_source.html">backup.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  461</span>    <span class="keyword">def </span>renameBackup(self, fullBackupID):</div>
<div class="line"><span class="lineno">  462</span>        <span class="stringliteral">&quot;&quot;&quot;@brief Rename all backups to have a full backup ID one lower than their current full backup ID&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  463</span>        entryList = os.listdir(self._options.dest)</div>
<div class="line"><span class="lineno">  464</span>        <span class="keywordflow">for</span> entry <span class="keywordflow">in</span> entryList:</div>
<div class="line"><span class="lineno">  465</span>            fullBackupIDText = <span class="stringliteral">&quot;{}_{}&quot;</span>.format(Backup.FULL_BACKUP_DIR_TEXT, fullBackupID)</div>
<div class="line"><span class="lineno">  466</span>            newFullBackupIDText = <span class="stringliteral">&quot;{}_{}&quot;</span>.format(Backup.FULL_BACKUP_DIR_TEXT, fullBackupID-1)</div>
<div class="line"><span class="lineno">  467</span>            <span class="keywordflow">if</span> entry.find(fullBackupIDText) != -1:</div>
<div class="line"><span class="lineno">  468</span>                currentPath = os.path.join(self._options.dest, entry)</div>
<div class="line"><span class="lineno">  469</span>                newPath     = os.path.join(self._options.dest, entry)</div>
<div class="line"><span class="lineno">  470</span>                newPath     = newPath.replace(fullBackupIDText, newFullBackupIDText)</div>
<div class="line"><span class="lineno">  471</span>                cmd = <span class="stringliteral">&quot;mv {} {}&quot;</span>.format(currentPath, newPath)</div>
<div class="line"><span class="lineno">  472</span>                cmdOutput = check_output(cmd, shell=<span class="keyword">True</span>, stderr=STDOUT)</div>
<div class="line"><span class="lineno">  473</span>                self._uo.info(cmdOutput)</div>
<div class="line"><span class="lineno">  474</span>                self._uo.info(<span class="stringliteral">&quot;Renamed {} as {}&quot;</span>.format(currentPath, newPath) )</div>
<div class="line"><span class="lineno">  475</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a08e4a57b1b3333227db14fe42190a639" name="a08e4a57b1b3333227db14fe42190a639"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a08e4a57b1b3333227db14fe42190a639">&#9670;&#160;</a></span>showCmdLine()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">showCmdLine </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">@brief show the command line. Useful when the user loaded the cmd line options from a file and
   needs to know the original command line</pre> 
<p class="definition">Definition at line <a class="el" href="backup_8py_source.html#l00163">163</a> of file <a class="el" href="backup_8py_source.html">backup.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  163</span>    <span class="keyword">def </span>showCmdLine(self):</div>
<div class="line"><span class="lineno">  164</span>        <span class="stringliteral">&quot;&quot;&quot;@brief show the command line. Useful when the user loaded the cmd line options from a file and</span></div>
<div class="line"><span class="lineno">  165</span><span class="stringliteral">           needs to know the original command line&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  166</span> </div>
<div class="line"><span class="lineno">  167</span>        optionList = []</div>
<div class="line"><span class="lineno">  168</span> </div>
<div class="line"><span class="lineno">  169</span>        optionList.append( <span class="stringliteral">&quot;--src  {}&quot;</span>.format(self._options.src) )</div>
<div class="line"><span class="lineno">  170</span> </div>
<div class="line"><span class="lineno">  171</span>        optionList.append( <span class="stringliteral">&quot;--dest {}&quot;</span>.format(self._options.dest) )</div>
<div class="line"><span class="lineno">  172</span> </div>
<div class="line"><span class="lineno">  173</span>        <span class="keywordflow">if</span> self._options.src_exclude:</div>
<div class="line"><span class="lineno">  174</span>            optionList.append( <span class="stringliteral">&quot;--src_exclude {}&quot;</span>.format(self._options.src_exclude) )</div>
<div class="line"><span class="lineno">  175</span> </div>
<div class="line"><span class="lineno">  176</span>        <span class="keywordflow">if</span> self._options.log:</div>
<div class="line"><span class="lineno">  177</span>            optionList.append( <span class="stringliteral">&quot;--log {}&quot;</span>.format(self._options.log) )</div>
<div class="line"><span class="lineno">  178</span> </div>
<div class="line"><span class="lineno">  179</span>        <span class="keywordflow">if</span> self._options.max_full:</div>
<div class="line"><span class="lineno">  180</span>            optionList.append( <span class="stringliteral">&quot;--max_full {}&quot;</span>.format(self._options.max_full) )</div>
<div class="line"><span class="lineno">  181</span> </div>
<div class="line"><span class="lineno">  182</span>        <span class="keywordflow">if</span> self._options.max_inc:</div>
<div class="line"><span class="lineno">  183</span>            optionList.append( <span class="stringliteral">&quot;--max_inc {}&quot;</span>.format(self._options.max_inc) )</div>
<div class="line"><span class="lineno">  184</span> </div>
<div class="line"><span class="lineno">  185</span>        <span class="keywordflow">if</span> self._options.email_list:</div>
<div class="line"><span class="lineno">  186</span>            optionList.append( <span class="stringliteral">&quot;--email_list {}&quot;</span>.format(self._options.email_list) )</div>
<div class="line"><span class="lineno">  187</span> </div>
<div class="line"><span class="lineno">  188</span>        <span class="keywordflow">if</span> self._options.email_server:</div>
<div class="line"><span class="lineno">  189</span>            optionList.append( <span class="stringliteral">&quot;--email_server {}&quot;</span>.format(self._options.email_server) )</div>
<div class="line"><span class="lineno">  190</span> </div>
<div class="line"><span class="lineno">  191</span>        <span class="keywordflow">if</span> self._options.email_username:</div>
<div class="line"><span class="lineno">  192</span>            optionList.append( <span class="stringliteral">&quot;--email_username {}&quot;</span>.format(self._options.email_username) )</div>
<div class="line"><span class="lineno">  193</span> </div>
<div class="line"><span class="lineno">  194</span>        <span class="keywordflow">if</span> self._options.email_password:</div>
<div class="line"><span class="lineno">  195</span>            optionList.append( <span class="stringliteral">&quot;--email_password {}&quot;</span>.format(self._options.email_password) )</div>
<div class="line"><span class="lineno">  196</span> </div>
<div class="line"><span class="lineno">  197</span>        <span class="keywordflow">if</span> self._options.pre_script:</div>
<div class="line"><span class="lineno">  198</span>            optionList.append( <span class="stringliteral">&quot;--pre_script {}&quot;</span>.format(self._options.pre_script) )</div>
<div class="line"><span class="lineno">  199</span> </div>
<div class="line"><span class="lineno">  200</span>        <span class="keywordflow">if</span> self._options.post_script:</div>
<div class="line"><span class="lineno">  201</span>            optionList.append( <span class="stringliteral">&quot;--post_script {}&quot;</span>.format(self._options.post_script) )</div>
<div class="line"><span class="lineno">  202</span> </div>
<div class="line"><span class="lineno">  203</span>        <span class="keywordflow">if</span> self._options.debug:</div>
<div class="line"><span class="lineno">  204</span>            optionList.append( <span class="stringliteral">&quot;--debug {}&quot;</span>.format(self._options.debug) )</div>
<div class="line"><span class="lineno">  205</span> </div>
<div class="line"><span class="lineno">  206</span>        self._uo.info(<span class="stringliteral">&quot;Previous command line&quot;</span>)</div>
<div class="line"><span class="lineno">  207</span>        print(<span class="stringliteral">&quot; &quot;</span>.join(optionList))</div>
<div class="line"><span class="lineno">  208</span>        sys.exit(0)</div>
<div class="line"><span class="lineno">  209</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="aa6e3aa1601ccff4b0f17a38b814e5561" name="aa6e3aa1601ccff4b0f17a38b814e5561"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa6e3aa1601ccff4b0f17a38b814e5561">&#9670;&#160;</a></span>testEmail()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">testEmail </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">@brief Send a test email</pre> 
<p class="definition">Definition at line <a class="el" href="backup_8py_source.html#l00883">883</a> of file <a class="el" href="backup_8py_source.html">backup.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  883</span>    <span class="keyword">def </span>testEmail(self):</div>
<div class="line"><span class="lineno">  884</span>        <span class="stringliteral">&quot;&quot;&quot;@brief Send a test email&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  885</span>        self._notifyEmail(<span class="stringliteral">&quot;Backup Email Test&quot;</span>, body = <span class="stringliteral">&quot;TESTING BACKUP EMAIL SEND\n\n\n&quot;</span> )</div>
<div class="line"><span class="lineno">  886</span> </div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a id="a7f9a85e66fca8983938e3ef12b102552" name="a7f9a85e66fca8983938e3ef12b102552"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7f9a85e66fca8983938e3ef12b102552">&#9670;&#160;</a></span>_options</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">_options</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="backup_8py_source.html#l00111">111</a> of file <a class="el" href="backup_8py_source.html">backup.py</a>.</p>

</div>
</div>
<a id="a37b2976f2070fbdc23c02647ac6aca3b" name="a37b2976f2070fbdc23c02647ac6aca3b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a37b2976f2070fbdc23c02647ac6aca3b">&#9670;&#160;</a></span>_uo</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">_uo</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="backup_8py_source.html#l00110">110</a> of file <a class="el" href="backup_8py_source.html">backup.py</a>.</p>

</div>
</div>
<a id="aa15a6f25b0abe407a9c304849abc65e7" name="aa15a6f25b0abe407a9c304849abc65e7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa15a6f25b0abe407a9c304849abc65e7">&#9670;&#160;</a></span>BACKUP_LOG_FILE</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">str BACKUP_LOG_FILE = &quot;backup.log&quot;</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="backup_8py_source.html#l00101">101</a> of file <a class="el" href="backup_8py_source.html">backup.py</a>.</p>

</div>
</div>
<a id="a8b0e1861807e459a4c8b327f0245fce9" name="a8b0e1861807e459a4c8b327f0245fce9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8b0e1861807e459a4c8b327f0245fce9">&#9670;&#160;</a></span>BACKUP_SIZE_LOG_FILE</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">str BACKUP_SIZE_LOG_FILE = &quot;backup_size.log&quot;</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="backup_8py_source.html#l00100">100</a> of file <a class="el" href="backup_8py_source.html">backup.py</a>.</p>

</div>
</div>
<a id="af056a33b1fd8cee276fdb0b1ed87c777" name="af056a33b1fd8cee276fdb0b1ed87c777"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af056a33b1fd8cee276fdb0b1ed87c777">&#9670;&#160;</a></span>BACKUP_STATE_ERROR</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int BACKUP_STATE_ERROR = 3</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="backup_8py_source.html#l00093">93</a> of file <a class="el" href="backup_8py_source.html">backup.py</a>.</p>

</div>
</div>
<a id="a93589a180ce52a14dad36e392d52031b" name="a93589a180ce52a14dad36e392d52031b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a93589a180ce52a14dad36e392d52031b">&#9670;&#160;</a></span>BACKUP_STATE_START</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int BACKUP_STATE_START = 1</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="backup_8py_source.html#l00091">91</a> of file <a class="el" href="backup_8py_source.html">backup.py</a>.</p>

</div>
</div>
<a id="a75b0c4039433247beffdf0016c412aad" name="a75b0c4039433247beffdf0016c412aad"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a75b0c4039433247beffdf0016c412aad">&#9670;&#160;</a></span>BACKUP_STATE_SUCCESS</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int BACKUP_STATE_SUCCESS = 2</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="backup_8py_source.html#l00092">92</a> of file <a class="el" href="backup_8py_source.html">backup.py</a>.</p>

</div>
</div>
<a id="ac64639a83f10701362b05b0ea7aeebc5" name="ac64639a83f10701362b05b0ea7aeebc5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac64639a83f10701362b05b0ea7aeebc5">&#9670;&#160;</a></span>FULL_BACKUP_DIR_TEXT</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">str FULL_BACKUP_DIR_TEXT = &quot;FULL&quot;</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="backup_8py_source.html#l00098">98</a> of file <a class="el" href="backup_8py_source.html">backup.py</a>.</p>

</div>
</div>
<a id="a5ddff078ad10903950f10ed36131719e" name="a5ddff078ad10903950f10ed36131719e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5ddff078ad10903950f10ed36131719e">&#9670;&#160;</a></span>INCOMPLETE_BACKUP_SUFFIX</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">str INCOMPLETE_BACKUP_SUFFIX = &quot;incomplete&quot;</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="backup_8py_source.html#l00102">102</a> of file <a class="el" href="backup_8py_source.html">backup.py</a>.</p>

</div>
</div>
<a id="a6873ca698e6e9756cded853a176a2fb4" name="a6873ca698e6e9756cded853a176a2fb4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6873ca698e6e9756cded853a176a2fb4">&#9670;&#160;</a></span>INCREMENTAL_BACKUP_DIR_TEXT</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">str INCREMENTAL_BACKUP_DIR_TEXT = &quot;INCR&quot;</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="backup_8py_source.html#l00099">99</a> of file <a class="el" href="backup_8py_source.html">backup.py</a>.</p>

</div>
</div>
<a id="ab2ba0447bb3cf152016ec90c4a0ddd15" name="ab2ba0447bb3cf152016ec90c4a0ddd15"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab2ba0447bb3cf152016ec90c4a0ddd15">&#9670;&#160;</a></span>NOT_STARTED_BACKUP_SUFFIX</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">str NOT_STARTED_BACKUP_SUFFIX = &quot;not_started&quot;</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="backup_8py_source.html#l00103">103</a> of file <a class="el" href="backup_8py_source.html">backup.py</a>.</p>

</div>
</div>
<a id="a4251f0877104c839c3b9c13736e7e7b3" name="a4251f0877104c839c3b9c13736e7e7b3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4251f0877104c839c3b9c13736e7e7b3">&#9670;&#160;</a></span>RSYNC_CMD</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">str RSYNC_CMD = &quot;/usr/bin/rsync&quot;</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="backup_8py_source.html#l00095">95</a> of file <a class="el" href="backup_8py_source.html">backup.py</a>.</p>

</div>
</div>
<a id="a222d8599217620761d9b6130781047cd" name="a222d8599217620761d9b6130781047cd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a222d8599217620761d9b6130781047cd">&#9670;&#160;</a></span>SSH_CMD</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">str SSH_CMD = &quot;/usr/bin/ssh&quot;</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="backup_8py_source.html#l00096">96</a> of file <a class="el" href="backup_8py_source.html">backup.py</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>pbackup/<a class="el" href="backup_8py_source.html">backup.py</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.8
</small></address>
</body>
</html>
